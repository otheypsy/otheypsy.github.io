var io=Object.defineProperty;var ai=s=>{throw TypeError(s)};var ro=(s,t,e)=>t in s?io(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var f=(s,t,e)=>ro(s,typeof t!="symbol"?t+"":t,e),ci=(s,t,e)=>t.has(s)||ai("Cannot "+e);var o=(s,t,e)=>(ci(s,t,"read from private field"),e?e.call(s):t.get(s)),p=(s,t,e)=>t.has(s)?ai("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),E=(s,t,e,n)=>(ci(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e);import{l as oo,a as ds,r as Z,j as A,P as ao}from"./index-nKnbJ7Rc.js";import{B as co,T as lo,E as uo}from"./TechnicalSkills.component-C8xR3jU2.js";const ho={"game-container":"_game-container_d5tj3_1"},fo={label:"up",xOffset:0,yOffset:-1},po={label:"down",xOffset:0,yOffset:1},mo={label:"left",xOffset:-1,yOffset:0},go={label:"right",xOffset:1,yOffset:0},it=Object.freeze({UP:fo,DOWN:po,LEFT:mo,RIGHT:go});class _o{constructor(){f(this,"moveSpeed",1);f(this,"mapPixPos",{xPix:0,yPix:0});f(this,"setMoveSpeed",t=>{this.moveSpeed=t});f(this,"getMoveSpeed",()=>this.moveSpeed);f(this,"setMapPixPos",(t,e)=>{this.mapPixPos={xPix:t,yPix:e}});f(this,"getMapPixPos",()=>this.mapPixPos);f(this,"move",(t=0,e=0)=>{this.mapPixPos.xPix+=this.moveSpeed*t,this.mapPixPos.yPix+=this.moveSpeed*e})}}const Eo=()=>new _o;var bs;class vo{constructor(){p(this,bs,(t,e)=>!(t.xPix0===t.xPix1||t.yPix0===t.yPix1||e.xPix0===e.xPix1||e.yPix0===e.yPix1||t.xPix0>=e.xPix1||e.xPix0>=t.xPix1||t.yPix0>=e.yPix1||e.yPix0>=t.yPix1));f(this,"checkCollision",(t,e,n,i=1)=>{var u;const r=t.getTileMap("0");if(!r)return!1;const a=e.movable.getMapPixPos(),c=i*e.movable.getMoveSpeed(),{x:l,y:h}=t.helper.pixToTile(a.xPix,a.yPix);for(let _=l-3;_<=l+3;_++)for(let g=h-3;g<=h+3;g++)for(const m of r.layers){const y=t.helper.tileToIndex(_,g);if(((u=m.data[y])==null?void 0:u.toString())!=="0"){const b=e.getRect(),T=t.helper.getTileRect(_,g);if(b.xPix0+=c*n.xOffset,b.xPix1+=c*n.xOffset,b.yPix0+=c*n.yOffset,b.yPix1+=c*n.yOffset,o(this,bs).call(this,b,T))return!0}}return!1})}}bs=new WeakMap;const bo=()=>new vo;var ie,re,oe,ys,ws;class yo{constructor(t){p(this,ie);p(this,re);p(this,oe);p(this,ys,t=>{var e,n;for(const i of t.inputs)((n=(e=o(this,ie))==null?void 0:e.getKeys()[i])==null?void 0:n.pressed)===!0&&t.callback(i,"keyboard")});p(this,ws,t=>{var e,n;for(const i of t.inputs)((n=(e=o(this,re))==null?void 0:e.getTouches()[i])==null?void 0:n.active)===!0&&t.callback(i,"touchscreen")});f(this,"addObserver",t=>{switch(t.type){case"keyboard":{if(!o(this,ie))throw new Error("GameControls::addObserver:: keyboard is not defined");break}case"touchscreen":{if(!o(this,re))throw new Error("GameControls::addObserver:: touchscreen is not defined");break}}o(this,oe).push(t)});f(this,"step",()=>{for(const t of o(this,oe))switch(t.type){case"keyboard":{o(this,ys).call(this,t);break}case"touchscreen":{o(this,ws).call(this,t);break}}});E(this,oe,[]),E(this,ie,t.keyboard),E(this,re,t.touchscreen)}}ie=new WeakMap,re=new WeakMap,oe=new WeakMap,ys=new WeakMap,ws=new WeakMap;const wo=(s,t)=>new yo({keyboard:s,touchscreen:t});var st,Ts,xs,As;class To{constructor(t){p(this,st);p(this,Ts,t=>{for(const e of t)o(this,st)[e]={pressed:!1}});p(this,xs,()=>{window.addEventListener("keydown",t=>{Object.prototype.hasOwnProperty.call(o(this,st),t.key)&&(o(this,st)[t.key].pressed=!0)})});p(this,As,()=>{window.addEventListener("keyup",t=>{Object.prototype.hasOwnProperty.call(o(this,st),t.key)&&(o(this,st)[t.key].pressed=!1)})});f(this,"getKeys",()=>o(this,st));E(this,st,{}),o(this,Ts).call(this,t),o(this,xs).call(this),o(this,As).call(this)}}st=new WeakMap,Ts=new WeakMap,xs=new WeakMap,As=new WeakMap;const xo=s=>{if(!Array.isArray(s))throw new Error("createKeyboard:: keys must be an array");if(s.length===0)throw new Error("createKeyboard:: keys must not be empty");return new To(s)};var nt,$t,$e,Cs,Ss,Os;class Ao{constructor(t){p(this,nt);p(this,$t,()=>{for(const t in it){const e=t;o(this,nt)[it[e].label]={active:!1}}});p(this,$e,(t,e,n)=>{e>t.width*.75&&(o(this,nt)[it.RIGHT.label].active=!0),e<t.width*.25&&(o(this,nt)[it.LEFT.label].active=!0),n>t.width*.75&&(o(this,nt)[it.DOWN.label].active=!0),n<t.width*.25&&(o(this,nt)[it.UP.label].active=!0)});p(this,Cs,t=>{t.addEventListener("touchstart",e=>{if(e.preventDefault(),e.target===t){o(this,$t).call(this);const{clientX:n,clientY:i}=e.touches[0];o(this,$e).call(this,t,n,i)}})});p(this,Ss,t=>{t.addEventListener("touchend",e=>{e.preventDefault(),o(this,$t).call(this)})});p(this,Os,t=>{t.addEventListener("touchmove",e=>{if(e.preventDefault(),e.target===t){o(this,$t).call(this);const{clientX:n,clientY:i}=e.touches[0];o(this,$e).call(this,t,n,i)}})});f(this,"getTouches",()=>o(this,nt));E(this,nt,{}),o(this,$t).call(this),o(this,Cs).call(this,t),o(this,Ss).call(this,t),o(this,Os).call(this,t)}}nt=new WeakMap,$t=new WeakMap,$e=new WeakMap,Cs=new WeakMap,Ss=new WeakMap,Os=new WeakMap;const Co=s=>{if(!(s instanceof HTMLCanvasElement))throw new Error("createTouchscreen:: canvas must be an instance of HTMLCanvasElement");return new Ao(s)};var ae,ce;class So{constructor(t){p(this,ae);p(this,ce);f(this,"check",t=>{const e=t-o(this,ce);return e>=o(this,ae)?(E(this,ce,t-e%o(this,ae)),!0):!1});E(this,ae,t===0?1:1e3/t),E(this,ce,window.performance.now())}}ae=new WeakMap,ce=new WeakMap;const Oo=s=>{if(!Number.isInteger(s))throw new Error("createFPSController:: fps must be an integer");if(s<1)throw new Error("createFPSController:: fps must be postive");return new So(s)};var Me,Re;class No{constructor(t=10){p(this,Me);p(this,Re,0);f(this,"start",t=>{this.stop(),E(this,Re,window.setInterval(t,o(this,Me)))});f(this,"stop",()=>{window.clearInterval(o(this,Re))});E(this,Me,t)}}Me=new WeakMap,Re=new WeakMap;const Po=(s=10)=>{if(!Number.isInteger(s))throw new Error("createGameClock:: interval must be an integer");if(s<=9)throw new Error("createGameClock:: interval must be more than 9");return new No(s)};var ke,le,gt,Mt,Rt,Ns,Ve;class Do{constructor(t){p(this,ke);p(this,le);p(this,gt,!1);p(this,Mt);p(this,Rt);p(this,Ns,()=>{o(this,gt)&&o(this,le).start(o(this,Mt))});p(this,Ve,(t=0)=>{o(this,gt)&&(window.requestAnimationFrame(o(this,Ve)),o(this,ke).check(t)&&o(this,Rt).call(this))});f(this,"registerLogicStep",t=>{E(this,Mt,t)});f(this,"registerDrawStep",t=>{E(this,Rt,t)});f(this,"step",()=>{o(this,Mt).call(this),o(this,Rt).call(this)});f(this,"start",()=>{E(this,gt,!0),o(this,Ns).call(this),o(this,Ve).call(this)});f(this,"stop",()=>{E(this,gt,!1),o(this,le).stop()});E(this,gt,!1),E(this,ke,Oo(t.fps)),E(this,le,Po(t.logicInterval)),E(this,Mt,()=>{throw new Error("Register logic step using `registerLogicStep`")}),E(this,Rt,()=>{throw new Error("Register draw step using `registerDrawStep`")})}}ke=new WeakMap,le=new WeakMap,gt=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,Ns=new WeakMap,Ve=new WeakMap;const Lo=(s,t)=>{if(!Number.isInteger(s))throw new Error("createGameCommand:: fps must be an integer");if(s<1)throw new Error("createGameCommand:: fps must be postive");if(!Number.isInteger(t))throw new Error("createGameCommand:: interval must be an integer");return new Do({fps:s,logicInterval:t})};var He,je;class Dn{constructor(){p(this,He,1);p(this,je,120);f(this,"setScale",t=>{E(this,He,t)});f(this,"getScale",()=>o(this,He));f(this,"setFPS",t=>{E(this,je,t)});f(this,"getFPS",()=>o(this,je))}}He=new WeakMap,je=new WeakMap;const Io=()=>new Dn;class Ut{constructor(){f(this,"getSource",t=>(console.log("TileSet::getSource:: ",t),{img:new Image,sx:0,sy:0,sw:0,sh:0}));if(new.target===Ut)throw new Error("TileSet:: TileSet an abstract class.")}}var We;class $o extends Ut{constructor(){super(...arguments);p(this,We,[]);f(this,"addTileSet",e=>{o(this,We).push(e)});f(this,"getSource",e=>o(this,We).find(i=>{const{startId:r,count:a}=i.getGridConfig();return e<a+r&&e>=r}).getSource(e))}}We=new WeakMap;const Yi=()=>new $o,Ui=(s,t)=>[Math.floor(s/t),s%t];var Be,kt,_t;class Mo extends Ut{constructor(e){super();p(this,Be);p(this,kt);p(this,_t);f(this,"getSource",e=>{const[n,i]=Ui(e-o(this,kt).startId,o(this,kt).xMax),r=i*o(this,_t).xPix,a=n*o(this,_t).yPix,c=o(this,_t).xPix,l=o(this,_t).yPix;return{img:o(this,Be),sx:r,sy:a,sw:c,sh:l}});E(this,Be,e.image),E(this,kt,e.gridConfig),E(this,_t,e.modelConfig)}getGridConfig(){return o(this,kt)}}Be=new WeakMap,kt=new WeakMap,_t=new WeakMap;const Ro=(s,t,e)=>{if(!(s instanceof HTMLImageElement))throw new Error("createBasicTileSet:: image must be an instance of HTMLImageElement");if(!Number.isInteger(t.xMax)||!Number.isInteger(t.count)||!Number.isInteger(t.startId))throw new Error("createBasicTileSet:: gridConfig must be of type GridConfig");if(!Number.isInteger(e.xPix)||!Number.isInteger(e.yPix))throw new Error("createBasicTileSet:: modelConfig must be of type ModelConfig");return new Mo({image:s,gridConfig:t,modelConfig:e})},an={border:"2px solid gray",display:"block",pad:10};var Ps,Ds;class Ln{constructor(t){f(this,"element");f(this,"context");f(this,"center");p(this,Ps,(t,e)=>{t.width=e.clientWidth,t.height=e.clientHeight,t.style.border=an.border,t.style.display=an.display,t.style.margin=(an.pad/2).toString()+"px auto",t.style.imageRendering="pixelated"});p(this,Ds,(t,e)=>{e.append(t);const n=t.getContext("2d",{alpha:!1});if(!(n instanceof CanvasRenderingContext2D))throw new Error("GameCanvas::#initCanvas:: CanvasRenderingContext2D not supported");return n.imageSmoothingEnabled=!1,n});const e=document.createElement("canvas");o(this,Ps).call(this,e,t),this.context=o(this,Ds).call(this,e,t),this.element=e,this.center={xPix:this.element.width/2,yPix:this.element.height/2}}}Ps=new WeakMap,Ds=new WeakMap;const ko=s=>{if(!(s instanceof HTMLElement))throw new Error("createGameCanvas:: container must be an instance of HTMLDivElement");return new Ln(s)};var I;class Vo{constructor(t){p(this,I);f(this,"saveContext",()=>{o(this,I).context&&o(this,I).context.save()});f(this,"restoreContext",()=>{o(this,I).context&&o(this,I).context.restore()});f(this,"setScale",t=>{o(this,I).context&&o(this,I).context.scale(t,t)});f(this,"configureStyle",t=>{if(o(this,I).context)for(const e of Object.keys(t))o(this,I).context[e]=t[e]});f(this,"getWrappedText",(t,e)=>{if(!o(this,I).context)return null;let n=0;const i=[],r=t.split(`
`);for(const a of r){let c="";const l=a.split(" ");for(let h=0;h<l.length;h++){const u=o(this,I).context.measureText(c+l[h]+" ");u.width>e?(i.push(c),c=l[h]+" "):c+=l[h]+" ",h===l.length-1&&i.push(c),u.fontBoundingBoxAscent+u.fontBoundingBoxDescent>n&&(n=Math.ceil(u.fontBoundingBoxAscent+u.fontBoundingBoxDescent))}}return{wrappedText:i,width:e,height:n}});f(this,"drawText",(t,e,n)=>{o(this,I).context&&o(this,I).context.fillText(t,e,n)});f(this,"drawPath",(t,e=!0)=>{o(this,I).context&&(e&&o(this,I).context.fill(t),o(this,I).context.stroke(t))});E(this,I,t)}}I=new WeakMap;const Ho=s=>{if(!(s instanceof Ln))throw new Error("createBaseRenderer:: canvas must be an instance of GameCanvas");return new Vo(s)};var Fe;class zi{constructor(){p(this,Fe,{xPix:0,yPix:0});f(this,"setMapOffset",t=>{E(this,Fe,t)});f(this,"getMapOffset",()=>o(this,Fe))}}Fe=new WeakMap;const jo=()=>new zi;class Wo{constructor(t,e){f(this,"element");f(this,"context");this.element=new OffscreenCanvas(t,e);const n=this.element.getContext("2d",{alpha:!0});if(!n)throw new Error("GameOffscreenCanvas:: failed to get 2D context");this.context=n}}const Bo=(s,t)=>{if(!Number.isInteger(s))throw new Error("createGameOffscreenCanvas:: width must be an integer");if(s<1)throw new Error("createGameOffscreenCanvas:: width must be postive");if(!Number.isInteger(t))throw new Error("createGameOffscreenCanvas:: height must be an integer");if(t<1)throw new Error("createGameOffscreenCanvas:: height must be postive");return new Wo(s,t)};var ct,x,Vt;class Fo{constructor(t){p(this,ct);p(this,x);p(this,Vt);f(this,"saveContext",()=>{o(this,x).context&&o(this,x).context.save()});f(this,"restoreContext",()=>{o(this,x).context&&o(this,x).context.restore()});f(this,"setScale",t=>{o(this,x).context&&o(this,x).context.scale(t,t)});f(this,"clearCanvas",()=>{o(this,x).context&&(o(this,x).context.fillStyle="#6c757d",o(this,x).context.fillRect(0,0,o(this,x).element.width,o(this,x).element.height))});f(this,"globalTranslate",()=>{o(this,x).context&&(o(this,x).context.translate(o(this,x).center.xPix,o(this,x).center.yPix),this.setScale(o(this,ct).getScale()),o(this,x).context.translate(-o(this,Vt).getMapOffset().xPix,-o(this,Vt).getMapOffset().yPix))});f(this,"getCurrentViewport",()=>{const t=o(this,Vt).getMapOffset(),e=t.xPix-o(this,x).center.xPix/o(this,ct).getScale(),n=t.yPix-o(this,x).center.yPix/o(this,ct).getScale(),i=t.xPix+o(this,x).center.xPix/o(this,ct).getScale(),r=t.yPix+o(this,x).center.yPix/o(this,ct).getScale();return{xPix0:e,yPix0:n,xPix1:i,yPix1:r}});f(this,"drawDebugGrid",t=>{o(this,x).context&&(o(this,x).context.beginPath(),o(this,x).context.strokeStyle="#f00",o(this,x).context.lineWidth=1,o(this,x).context.strokeRect(t.dx,t.dy,t.dw,t.dh))});f(this,"drawImage",(t,e=!1)=>{o(this,x).context&&(o(this,x).context.drawImage(t.img,t.sx,t.sy,t.sw,t.sh,t.dx,t.dy,t.dw,t.dh),e&&this.drawDebugGrid(t))});E(this,ct,t.config),E(this,x,t.canvas),E(this,Vt,t.camera)}}ct=new WeakMap,x=new WeakMap,Vt=new WeakMap;const Ko=(s,t,e)=>{if(!(s instanceof Dn))throw new Error("createMapRenderer:: config must be an instance of GameConfig");if(!(t instanceof Ln))throw new Error("createMapRenderer:: canvas must be an instance of GameCanvas");if(!(e instanceof zi))throw new Error("createMapRenderer:: camera must be an instance of Camera");return new Fo({config:s,canvas:t,camera:e})};class Go{constructor(){f(this,"drawDebugGrid",(t,e)=>{t.context.beginPath(),t.context.strokeStyle="#f00",t.context.lineWidth=1,t.context.strokeRect(e.dx,e.dy,e.dw,e.dh)});f(this,"drawImage",(t,e,n=!1)=>{t.context.drawImage(e.img,e.sx,e.sy,e.sw,e.sh,e.dx,e.dy,e.dw,e.dh),n&&this.drawDebugGrid(t,e)})}}const Yo=()=>new Go;var ue,Et,Ht,jt;class Uo{constructor(t){p(this,ue);p(this,Et);p(this,Ht);p(this,jt);f(this,"setAnimationDelay",t=>{E(this,Et,t)});f(this,"getAnimationDelay",()=>o(this,Et));E(this,ue,t.animations),E(this,jt,Object.keys(t.animations)[0]),E(this,Ht,0),E(this,Et,t.animationDelay)}animate(t=null){t!=null&&E(this,jt,t);const e=o(this,ue)[o(this,jt)].length;E(this,Ht,(o(this,Ht)+1)%(e*o(this,Et)))}getGid(){const t=Math.floor(o(this,Ht)/o(this,Et));return o(this,ue)[o(this,jt)][t]??0}}ue=new WeakMap,Et=new WeakMap,Ht=new WeakMap,jt=new WeakMap;const zo=(s,t=10)=>{for(const e in s)if(typeof e!="string"||!Array.isArray(s[e]))throw new Error("createAnimatedSpriteActor:: animations is not a valid object");if(!Number.isInteger(t))throw new Error("createAnimatedSpriteActor:: animationDelay must be an integer");if(t<=9)throw new Error("createAnimatedSpriteActor:: animationDelay must be more than 9");return new Uo({animations:s,animationDelay:t})};var Ke,Y;class qo{constructor(t){f(this,"animation");f(this,"movable");p(this,Ke);p(this,Y);f(this,"getRect",()=>({xPix0:this.movable.mapPixPos.xPix-o(this,Y).xPix/2,yPix0:this.movable.mapPixPos.yPix-o(this,Y).yPix/2,xPix1:this.movable.mapPixPos.xPix+o(this,Y).xPix/2,yPix1:this.movable.mapPixPos.yPix+o(this,Y).yPix/2}));f(this,"draw",(t,e=!1)=>{const n=o(this,Ke).getSource(this.animation.getGid()),i={dx:this.movable.mapPixPos.xPix-o(this,Y).xPix/2,dy:this.movable.mapPixPos.yPix-o(this,Y).yPix/2,dw:o(this,Y).xPix,dh:o(this,Y).yPix};t.drawImage({...n,...i},e)});this.animation=t.animation,E(this,Y,t.modelConfig),this.movable=t.movable,E(this,Ke,t.tileSet)}}Ke=new WeakMap,Y=new WeakMap;const Xo=(s,t,e)=>{if(!Number.isInteger(s.xPix)||!Number.isInteger(s.yPix))throw new Error("createAnimatedSpriteActor:: modelConfig must be of type ModelConfig");for(const r in t)if(typeof r!="string"||!Array.isArray(t[r]))throw new Error("createAnimatedSpriteActor:: animationSprites is not a valid object");if(!(e instanceof Ut))throw new Error("createAnimatedSpriteActor:: tileSet must be an instance of TileSet");const n=Eo(),i=zo(t);return new qo({animation:i,modelConfig:s,movable:n,tileSet:e})},cn={text:{font:"1.2rem Courier New",textAlign:"center",textBaseline:"top",strokeStyle:"#6c757d",fillStyle:"#6c757d"},bubble:{strokeStyle:"#6c757d",fillStyle:"white",lineWidth:3}};var lt,Wt,k,vt,Ls;class Qo{constructor(t){p(this,lt);p(this,Wt);p(this,k);p(this,vt);p(this,Ls,(t,e,n,i)=>{const r=t-n/2,a=t+n/2,c=e-i-o(this,Wt)*2-o(this,vt),l=e-o(this,vt),h=new Path2D;return h.moveTo(r+o(this,k),c),h.moveTo(r+o(this,k),c),h.lineTo(a-o(this,k),c),h.quadraticCurveTo(a,c,a,c+o(this,k)),h.lineTo(a,l-o(this,k)),h.quadraticCurveTo(a,l,a-o(this,k),l),h.lineTo(r+n/2+o(this,k),l),h.lineTo(r+n/2,l+o(this,vt)),h.lineTo(r+n/2-o(this,k),l),h.lineTo(r+o(this,k),l),h.quadraticCurveTo(r,l,r,l-o(this,k)),h.lineTo(r,c+o(this,k)),h.quadraticCurveTo(r,c,r+o(this,k),c),h});f(this,"drawUp",(t,e,n,i,r=300)=>{t.saveContext(),t.setScale(1/o(this,lt).getScale()),t.configureStyle(cn.text);const a=t.getWrappedText(e,r-o(this,Wt)*2);t.configureStyle(cn.bubble);const c=o(this,Ls).call(this,n*o(this,lt).getScale(),i*o(this,lt).getScale(),r,a.height*a.wrappedText.length);t.drawPath(c),t.configureStyle(cn.text);const l=a.height*a.wrappedText.length+o(this,Wt)+o(this,vt);for(let h=0;h<a.wrappedText.length;h++)t.drawText(a.wrappedText[h],n*o(this,lt).getScale(),i*o(this,lt).getScale()-l+a.height*h);t.restoreContext()});E(this,lt,t),E(this,Wt,20),E(this,k,10),E(this,vt,10)}}lt=new WeakMap,Wt=new WeakMap,k=new WeakMap,vt=new WeakMap,Ls=new WeakMap;const Jo=s=>{if(!(s instanceof Dn))throw new Error("createSpeechBubble:: gameConfig must be an instance of GameConfig");return new Qo(s)};class In{constructor(t){f(this,"modelConfig");f(this,"worldConfig");f(this,"getMaxPix",()=>({xPix:this.worldConfig.xMax*this.modelConfig.xPix,yPix:this.worldConfig.count/this.worldConfig.xMax*this.modelConfig.yPix}));f(this,"getTileRect",(t,e)=>({xPix0:t*this.modelConfig.xPix,yPix0:e*this.modelConfig.yPix,xPix1:t*this.modelConfig.xPix+this.modelConfig.xPix,yPix1:e*this.modelConfig.yPix+this.modelConfig.xPix}));f(this,"indexToTile",t=>{const[e,n]=Ui(t,this.worldConfig.xMax);return{x:n,y:e}});f(this,"tileToIndex",(t,e)=>e*this.worldConfig.xMax+t);f(this,"tileToPix",(t,e)=>({xPix:t*this.modelConfig.xPix+this.modelConfig.xPix/2,yPix:e*this.modelConfig.yPix+this.modelConfig.yPix/2}));f(this,"pixToTile",(t,e)=>({x:Math.floor(t/this.modelConfig.xPix),y:Math.floor(e/this.modelConfig.yPix)}));this.modelConfig=t.modelConfig,this.worldConfig=t.worldConfig}}const Zo=(s,t)=>{if(!Number.isInteger(t.xMax)||!Number.isInteger(t.count)||!Number.isInteger(t.startId))throw new Error("createLevelHelper:: worldConfig must be of type GridConfig");if(!Number.isInteger(s.xPix)||!Number.isInteger(s.yPix))throw new Error("createLevelHelper:: modelConfig must be of type ModelConfig");return new In({modelConfig:s,worldConfig:t})};class Ue{constructor(){f(this,"drawTileMap",t=>{console.log("TileMap:: drawTileMap",t)});if(new.target===Ue)throw new Error("TileMap:: TileMap an abstract class.")}}var he,de;class ta{constructor(t){p(this,he);p(this,de);f(this,"helper");f(this,"getTileMap",t=>o(this,he)[t]);f(this,"getTileSet",()=>o(this,de));f(this,"drawTileMap",(t,e,n=!1)=>{o(this,he)[e].drawTileMap({renderer:t,helper:this.helper,tileSet:o(this,de),isDebug:n})});E(this,he,t.tileMaps),E(this,de,t.tileSet),this.helper=t.helper}}he=new WeakMap,de=new WeakMap;const ea=(s,t,e)=>{if(!(s instanceof In))throw new Error("createLevel:: helper must be an instance of LevelHelper");if(!(e instanceof Ut))throw new Error("createLevel:: tileSet must be an instance of TileSet");for(const n in t)if(typeof n!="string"||!(t[n]instanceof Ue))throw new Error("createAnimatedSpriteActor:: animations is not a valid object");return new ta({helper:s,tileSet:e,tileMaps:t})};var Is,$s;class sa extends Ue{constructor(e){super();f(this,"layers",[]);p(this,Is,e=>{this.layers.push({id:e.id,name:e.name,visible:e.visible,opacity:e.opacity,data:e.data})});p(this,$s,e=>{if(e.gid===0)return;const n=e.tileSet.getSource(e.gid),i={dx:e.x*e.helper.modelConfig.xPix,dy:e.y*e.helper.modelConfig.yPix,dw:e.helper.modelConfig.xPix,dh:e.helper.modelConfig.yPix};e.renderer.drawImage({...n,...i},e.isDebug)});f(this,"drawTileMap",e=>{const n=e.renderer.getCurrentViewport(),i=e.helper.pixToTile(n.xPix0,n.yPix0),r=e.helper.pixToTile(n.xPix1,n.yPix1),a=Math.max(0,i.x-1),c=Math.max(0,i.y-1),l=Math.min(e.helper.worldConfig.xMax,r.x+1),h=Math.min(e.helper.worldConfig.count/e.helper.worldConfig.xMax,r.y+1);for(const u of this.layers)for(let _=a;_<l;_++)for(let g=c;g<h;g++){const m=e.helper.tileToIndex(_,g);u.data[m]!==0&&o(this,$s).call(this,{renderer:e.renderer,helper:e.helper,tileSet:e.tileSet,gid:u.data[m],x:_,y:g,isDebug:e.isDebug})}});for(const n of e)o(this,Is).call(this,n)}}Is=new WeakMap,$s=new WeakMap;const na=s=>{for(const t of s){if(typeof t.id!="string"&&typeof t.id!="number"||typeof t.name!="string"||typeof t.visible!="boolean"||typeof t.opacity!="number")throw new Error("createAnimatedSpriteActor:: layers must be of type TileLayer[]");for(const e of t.data)if(!Number.isInteger(e))throw new Error("createAnimatedSpriteActor:: layers must be of type TileLayer[]")}return new sa(s)};var tt,Ms,Rs,ks;class ia extends Ue{constructor(e){super();p(this,tt);f(this,"layers",[]);p(this,Ms,e=>{this.layers.push({id:e.id,name:e.name,visible:e.visible,opacity:e.opacity,data:e.data})});p(this,Rs,e=>{if(e.gid===0)return;const n=e.tileSet.getSource(e.gid),i={dx:e.x*e.helper.modelConfig.xPix,dy:e.y*e.helper.modelConfig.yPix,dw:e.helper.modelConfig.xPix,dh:e.helper.modelConfig.yPix};e.renderer.drawImage(o(this,tt),{...n,...i},e.isDebug)});p(this,ks,(e,n,i,r)=>{for(const a of this.layers)o(this,tt).context.save(),o(this,tt).context.globalAlpha=a.opacity,a.data.forEach((c,l)=>{const{x:h,y:u}=n.indexToTile(l);o(this,Rs).call(this,{renderer:e,helper:n,tileSet:i,gid:c,x:h,y:u,isDebug:r})}),o(this,tt).context.restore()});f(this,"drawTileMap",e=>{const n=e.renderer.getCurrentViewport(),i=Math.max(0,n.xPix0),r=Math.max(0,n.yPix0),a=Math.min(o(this,tt).element.width,n.xPix1),c=Math.min(o(this,tt).element.height,n.yPix1);e.renderer.drawImage({img:o(this,tt).element,sx:i,sy:r,sw:a-i,sh:c-r,dx:i,dy:r,dw:a-i,dh:c-r},!1)});for(const a of e.layers)o(this,Ms).call(this,a);const n=Yo(),i=e.helper.worldConfig.xMax*e.helper.modelConfig.xPix,r=e.helper.worldConfig.count/e.helper.worldConfig.xMax*e.helper.modelConfig.yPix;E(this,tt,Bo(i,r)),o(this,ks).call(this,n,e.helper,e.tileSet,e.isDebug)}}tt=new WeakMap,Ms=new WeakMap,Rs=new WeakMap,ks=new WeakMap;const ra=(s,t,e,n=!1)=>{if(!(s instanceof In))throw new Error("createOffscreenTileMap:: helper must be an instance of LevelHelper");if(!(t instanceof Ut))throw new Error("createOffscreenTileMap:: tileSet must be an instance of TileSet");for(const i of e){if(!(typeof i.id!="string"||typeof i.id!="number")||typeof i.name!="string"||typeof i.visible!="boolean"||typeof i.opacity!="number")throw new Error("createOffscreenTileMap:: layer must be of type TileLayer");for(const r of i.data)if(!Number.isInteger(r))throw new Error("createOffscreenTileMap:: layers must be of type TileLayer[]")}return new ia({helper:s,tileSet:t,layers:e,isDebug:n})},oa=async s=>{const t="/assets/"+s.gameName+"/tilesets/"+s.folderName+"/"+s.fileName+".tileset.png",e=new URL(t,import.meta.url).href,n=await oo(e),i=await ds("/assets/"+s.gameName+"/tilesets/"+s.folderName+"/"+s.fileName+".tileset.json"),r={xMax:i.columns,count:i.tilecount,startId:s.startId},a={xPix:i.tilewidth,yPix:i.tileheight};return Ro(n,r,a)},qi={create:oa},aa=async(s,t,e)=>{for(const n of e){const i=await qi.create({gameName:s,folderName:n.folderName,fileName:n.fileName,startId:n.firstgid});t.addTileSet(i)}},ca=async s=>{const t={xPix:s.xPix,yPix:s.yPix},e=Yi();return await aa(s.gameName,e,s.tilesets),Xo(t,s.sprites,e)},li={create:ca},la=(s,t)=>{var i;const e=(i=t.properties)==null?void 0:i.find(r=>r.name==="zIndex"),n=e?e.value:-1;Object.hasOwn(s,n)?s[n].layers.push(t):s[n]={zIndex:n,layers:[t]}},Xi=(s,t)=>{for(const e of t)switch(e.type){case"group":{Xi(s,e.layers);break}case"tilelayer":{la(s,e);break}}return s},ua=s=>Xi({},s),ha=async(s,t,e)=>{for(const n of e){const i=n.name.split(".")[0],r=await qi.create({gameName:s,folderName:i,fileName:i,startId:n.firstgid});t.addTileSet(r)}},da=async s=>{const t=s.xMax,e=s.yMax,n={xPix:s.tileWidth,yPix:s.tileHeight},i={xMax:t,count:t*e,startId:0},r=Zo(n,i),a=Yi();await ha(s.gameName,a,s.tilesets);const c=ua(s.layers),l={};for(const h in c){const u=c[h].layers,_=s.isLive===!0?na(u):ra(r,a,u);l[h]=_}return ea(r,l,a)},fa={create:da};var fe,bt,Ge,pe,Bt,me;class pa{constructor(t,e,n,i=null){p(this,fe);p(this,bt);p(this,Ge);p(this,pe);p(this,Bt);p(this,me);f(this,"setInteractHandler",t=>{E(this,me,t)});f(this,"interact",()=>{o(this,Bt)&&o(this,me).call(this,o(this,fe))});f(this,"updateIsNearby",(t,e=50)=>{const{xPix:n,yPix:i}=o(this,bt).movable.getMapPixPos();E(this,Bt,n>t.xPix-e&&n<t.xPix+e&&i>t.yPix-e&&i<t.yPix+e)});f(this,"drawSpeechBubble",t=>{if(o(this,Bt)&&o(this,pe)){const{xPix:e}=o(this,bt).movable.getMapPixPos(),{yPix0:n}=o(this,bt).getRect();o(this,Ge).drawUp(t,o(this,pe),e,n)}});E(this,fe,t),E(this,bt,e),E(this,Bt,!1),E(this,Ge,n),E(this,pe,i),E(this,me,()=>{console.log("Interacted with "+o(this,fe))})}getActor(){return o(this,bt)}}fe=new WeakMap,bt=new WeakMap,Ge=new WeakMap,pe=new WeakMap,Bt=new WeakMap,me=new WeakMap;var Vs,Hs,js,Ws,Bs,Fs,Ks;class ma{constructor(){f(this,"config");f(this,"canvas");f(this,"camera");f(this,"level");f(this,"controls");f(this,"baseRenderer");f(this,"mapRenderer");f(this,"collisionDetector");f(this,"player");f(this,"npcs");p(this,Vs,t=>{t.innerHTML="",this.config=Io(),this.canvas=ko(t),this.camera=jo()});p(this,Hs,()=>{this.mapRenderer=Ko(this.config,this.canvas,this.camera),this.baseRenderer=Ho(this.canvas)});p(this,js,()=>{const t=xo(["w","a","s","d","e"]),e=Co(this.canvas.element);this.controls=wo(t,e)});p(this,Ws,async()=>{const t=await ds("/assets/wildWest/tilemaps/main/main.tilemap.json");this.level=await fa.create({gameName:"wildWest",xMax:t.width,yMax:t.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,tilesets:t.tilesets,layers:t.layers}),this.collisionDetector=bo()});p(this,Bs,async()=>{const t=await ds("/assets/wildWest/actors/player.config.json");this.player=await li.create({gameName:"wildWest",tilesets:t.tilesets,xPix:t.tilewidth,yPix:t.tileheight,sprites:t.sprites});const e=this.level.helper.tileToPix(t.start.x,t.start.y);this.player.movable.setMapPixPos(e.xPix,e.yPix),this.camera.setMapOffset(this.player.movable.getMapPixPos())});p(this,Fs,async(t=e=>{console.log("WildWestGame::#createNPCs::interactHandler",e)})=>{this.npcs=[];const e=Jo(this.config),n=["traveller","worker","bartender","sheriff"];for(const i of n){const r=await ds("/assets/wildWest/actors/"+i+".config.json"),a=await li.create({gameName:"wildWest",tilesets:r.tilesets,xPix:r.tilewidth,yPix:r.tileheight,sprites:r.sprites}),c=this.level.helper.tileToPix(r.start.x,r.start.y);a.movable.setMapPixPos(c.xPix,c.yPix);const l=new pa(i,a,e,r.dialogue);l.setInteractHandler(t),this.npcs.push(l)}});p(this,Ks,()=>{var t,e;(t=document.getElementById("scale"))==null||t.addEventListener("change",n=>{const i=parseInt(n.target.value);this.config.setScale(i)}),(e=document.getElementById("speed"))==null||e.addEventListener("change",n=>{const i=parseInt(n.target.value);this.player.movable.setMoveSpeed(i)})});f(this,"initialize",async t=>{o(this,Vs).call(this,t.container),o(this,Hs).call(this),o(this,js).call(this),await o(this,Ws).call(this),await o(this,Bs).call(this),await o(this,Fs).call(this,t.interactHandler),o(this,Ks).call(this)})}}Vs=new WeakMap,Hs=new WeakMap,js=new WeakMap,Ws=new WeakMap,Bs=new WeakMap,Fs=new WeakMap,Ks=new WeakMap;const ga=async(s,t)=>{if(!s)throw new Error("createWildWestGame::container is null");if(!t)throw new Error("createWildWestGame::interactHandler is null");const e=new ma;return await e.initialize({container:s,interactHandler:t}),e};var Ft,Ye,Gs,Ys,Us;class _a{constructor(t){f(this,"command");f(this,"game");p(this,Ft,t=>{const e=this.game.collisionDetector.checkCollision(this.game.level,this.game.player,t,1);this.game.player.animation.animate(t.label),e||(this.game.player.movable.move(t.xOffset,t.yOffset),this.game.camera.setMapOffset(this.game.player.movable.getMapPixPos()))});p(this,Ye,(t,e)=>{switch(!0){case(t==="w"&&e==="keyboard"||t==="up"&&e==="touchscreen"):{o(this,Ft).call(this,it.UP);break}case(t==="a"&&e==="keyboard"||t==="left"&&e==="touchscreen"):{o(this,Ft).call(this,it.LEFT);break}case(t==="s"&&e==="keyboard"||t==="down"&&e==="touchscreen"):{o(this,Ft).call(this,it.DOWN);break}case(t==="d"&&e==="keyboard"||t==="right"&&e==="touchscreen"):{o(this,Ft).call(this,it.RIGHT);break}}});p(this,Gs,()=>{for(const t of this.game.npcs)t.interact()});p(this,Ys,()=>{this.game.controls.step();for(const t of this.game.npcs)t.getActor().animation.animate(),t.updateIsNearby(this.game.player.movable.getMapPixPos(),50)});p(this,Us,()=>{this.game.mapRenderer.saveContext(),this.game.mapRenderer.clearCanvas(),this.game.mapRenderer.globalTranslate(),this.game.level.drawTileMap(this.game.mapRenderer,"-1");for(const t of this.game.npcs)t.getActor().draw(this.game.mapRenderer);this.game.player.draw(this.game.mapRenderer),this.game.level.drawTileMap(this.game.mapRenderer,"1");for(const t of this.game.npcs)t.drawSpeechBubble(this.game.baseRenderer);this.game.mapRenderer.restoreContext()});f(this,"initialize",()=>{this.game.controls.addObserver({type:"keyboard",inputs:["w","a","s","d"],callback:o(this,Ye)}),this.game.controls.addObserver({type:"touchscreen",inputs:["up","down","left","right"],callback:o(this,Ye)}),this.game.controls.addObserver({type:"keyboard",inputs:["e"],callback:o(this,Gs)}),this.command.registerDrawStep(o(this,Us)),this.command.registerLogicStep(o(this,Ys))});f(this,"start",()=>{this.command.start()});f(this,"step",()=>{this.command.step()});f(this,"stop",()=>{this.command.stop()});this.game=t,this.command=Lo(t.config.getFPS(),10)}}Ft=new WeakMap,Ye=new WeakMap,Gs=new WeakMap,Ys=new WeakMap,Us=new WeakMap;var H="top",F="bottom",K="right",j="left",zs="auto",we=[H,F,K,j],Gt="start",ge="end",Qi="clippingParents",$n="viewport",te="popper",Ji="reference",xn=we.reduce(function(s,t){return s.concat([t+"-"+Gt,t+"-"+ge])},[]),Mn=[].concat(we,[zs]).reduce(function(s,t){return s.concat([t,t+"-"+Gt,t+"-"+ge])},[]),Zi="beforeRead",tr="read",er="afterRead",sr="beforeMain",nr="main",ir="afterMain",rr="beforeWrite",or="write",ar="afterWrite",cr=[Zi,tr,er,sr,nr,ir,rr,or,ar];function at(s){return s?(s.nodeName||"").toLowerCase():null}function G(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var t=s.ownerDocument;return t&&t.defaultView||window}return s}function Yt(s){var t=G(s).Element;return s instanceof t||s instanceof Element}function U(s){var t=G(s).HTMLElement;return s instanceof t||s instanceof HTMLElement}function Rn(s){if(typeof ShadowRoot>"u")return!1;var t=G(s).ShadowRoot;return s instanceof t||s instanceof ShadowRoot}function Ea(s){var t=s.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];!U(r)||!at(r)||(Object.assign(r.style,n),Object.keys(i).forEach(function(a){var c=i[a];c===!1?r.removeAttribute(a):r.setAttribute(a,c===!0?"":c)}))})}function va(s){var t=s.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],r=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:e[n]),c=a.reduce(function(l,h){return l[h]="",l},{});!U(i)||!at(i)||(Object.assign(i.style,c),Object.keys(r).forEach(function(l){i.removeAttribute(l)}))})}}const kn={name:"applyStyles",enabled:!0,phase:"write",fn:Ea,effect:va,requires:["computeStyles"]};function rt(s){return s.split("-")[0]}var Kt=Math.max,gs=Math.min,_e=Math.round;function An(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function lr(){return!/^((?!chrome|android).)*safari/i.test(An())}function Ee(s,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var n=s.getBoundingClientRect(),i=1,r=1;t&&U(s)&&(i=s.offsetWidth>0&&_e(n.width)/s.offsetWidth||1,r=s.offsetHeight>0&&_e(n.height)/s.offsetHeight||1);var a=Yt(s)?G(s):window,c=a.visualViewport,l=!lr()&&e,h=(n.left+(l&&c?c.offsetLeft:0))/i,u=(n.top+(l&&c?c.offsetTop:0))/r,_=n.width/i,g=n.height/r;return{width:_,height:g,top:u,right:h+_,bottom:u+g,left:h,x:h,y:u}}function Vn(s){var t=Ee(s),e=s.offsetWidth,n=s.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:s.offsetLeft,y:s.offsetTop,width:e,height:n}}function ur(s,t){var e=t.getRootNode&&t.getRootNode();if(s.contains(t))return!0;if(e&&Rn(e)){var n=t;do{if(n&&s.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function dt(s){return G(s).getComputedStyle(s)}function ba(s){return["table","td","th"].indexOf(at(s))>=0}function xt(s){return((Yt(s)?s.ownerDocument:s.document)||window.document).documentElement}function qs(s){return at(s)==="html"?s:s.assignedSlot||s.parentNode||(Rn(s)?s.host:null)||xt(s)}function ui(s){return!U(s)||dt(s).position==="fixed"?null:s.offsetParent}function ya(s){var t=/firefox/i.test(An()),e=/Trident/i.test(An());if(e&&U(s)){var n=dt(s);if(n.position==="fixed")return null}var i=qs(s);for(Rn(i)&&(i=i.host);U(i)&&["html","body"].indexOf(at(i))<0;){var r=dt(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function ze(s){for(var t=G(s),e=ui(s);e&&ba(e)&&dt(e).position==="static";)e=ui(e);return e&&(at(e)==="html"||at(e)==="body"&&dt(e).position==="static")?t:e||ya(s)||t}function Hn(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function Pe(s,t,e){return Kt(s,gs(t,e))}function wa(s,t,e){var n=Pe(s,t,e);return n>e?e:n}function hr(){return{top:0,right:0,bottom:0,left:0}}function dr(s){return Object.assign({},hr(),s)}function fr(s,t){return t.reduce(function(e,n){return e[n]=s,e},{})}var Ta=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,dr(typeof t!="number"?t:fr(t,we))};function xa(s){var t,e=s.state,n=s.name,i=s.options,r=e.elements.arrow,a=e.modifiersData.popperOffsets,c=rt(e.placement),l=Hn(c),h=[j,K].indexOf(c)>=0,u=h?"height":"width";if(!(!r||!a)){var _=Ta(i.padding,e),g=Vn(r),m=l==="y"?H:j,y=l==="y"?F:K,b=e.rects.reference[u]+e.rects.reference[l]-a[l]-e.rects.popper[u],T=a[l]-e.rects.reference[l],O=ze(r),P=O?l==="y"?O.clientHeight||0:O.clientWidth||0:0,D=b/2-T/2,w=_[m],C=P-g[u]-_[y],S=P/2-g[u]/2+D,N=Pe(w,S,C),M=l;e.modifiersData[n]=(t={},t[M]=N,t.centerOffset=N-S,t)}}function Aa(s){var t=s.state,e=s.options,n=e.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||ur(t.elements.popper,i)&&(t.elements.arrow=i))}const pr={name:"arrow",enabled:!0,phase:"main",fn:xa,effect:Aa,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ve(s){return s.split("-")[1]}var Ca={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sa(s,t){var e=s.x,n=s.y,i=t.devicePixelRatio||1;return{x:_e(e*i)/i||0,y:_e(n*i)/i||0}}function hi(s){var t,e=s.popper,n=s.popperRect,i=s.placement,r=s.variation,a=s.offsets,c=s.position,l=s.gpuAcceleration,h=s.adaptive,u=s.roundOffsets,_=s.isFixed,g=a.x,m=g===void 0?0:g,y=a.y,b=y===void 0?0:y,T=typeof u=="function"?u({x:m,y:b}):{x:m,y:b};m=T.x,b=T.y;var O=a.hasOwnProperty("x"),P=a.hasOwnProperty("y"),D=j,w=H,C=window;if(h){var S=ze(e),N="clientHeight",M="clientWidth";if(S===G(e)&&(S=xt(e),dt(S).position!=="static"&&c==="absolute"&&(N="scrollHeight",M="scrollWidth")),S=S,i===H||(i===j||i===K)&&r===ge){w=F;var $=_&&S===C&&C.visualViewport?C.visualViewport.height:S[N];b-=$-n.height,b*=l?1:-1}if(i===j||(i===H||i===F)&&r===ge){D=K;var L=_&&S===C&&C.visualViewport?C.visualViewport.width:S[M];m-=L-n.width,m*=l?1:-1}}var R=Object.assign({position:c},h&&Ca),Q=u===!0?Sa({x:m,y:b},G(e)):{x:m,y:b};if(m=Q.x,b=Q.y,l){var V;return Object.assign({},R,(V={},V[w]=P?"0":"",V[D]=O?"0":"",V.transform=(C.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",V))}return Object.assign({},R,(t={},t[w]=P?b+"px":"",t[D]=O?m+"px":"",t.transform="",t))}function Oa(s){var t=s.state,e=s.options,n=e.gpuAcceleration,i=n===void 0?!0:n,r=e.adaptive,a=r===void 0?!0:r,c=e.roundOffsets,l=c===void 0?!0:c,h={placement:rt(t.placement),variation:ve(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,hi(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,hi(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const jn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Oa,data:{}};var is={passive:!0};function Na(s){var t=s.state,e=s.instance,n=s.options,i=n.scroll,r=i===void 0?!0:i,a=n.resize,c=a===void 0?!0:a,l=G(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(u){u.addEventListener("scroll",e.update,is)}),c&&l.addEventListener("resize",e.update,is),function(){r&&h.forEach(function(u){u.removeEventListener("scroll",e.update,is)}),c&&l.removeEventListener("resize",e.update,is)}}const Wn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Na,data:{}};var Pa={left:"right",right:"left",bottom:"top",top:"bottom"};function fs(s){return s.replace(/left|right|bottom|top/g,function(t){return Pa[t]})}var Da={start:"end",end:"start"};function di(s){return s.replace(/start|end/g,function(t){return Da[t]})}function Bn(s){var t=G(s),e=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:e,scrollTop:n}}function Fn(s){return Ee(xt(s)).left+Bn(s).scrollLeft}function La(s,t){var e=G(s),n=xt(s),i=e.visualViewport,r=n.clientWidth,a=n.clientHeight,c=0,l=0;if(i){r=i.width,a=i.height;var h=lr();(h||!h&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:r,height:a,x:c+Fn(s),y:l}}function Ia(s){var t,e=xt(s),n=Bn(s),i=(t=s.ownerDocument)==null?void 0:t.body,r=Kt(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Kt(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-n.scrollLeft+Fn(s),l=-n.scrollTop;return dt(i||e).direction==="rtl"&&(c+=Kt(e.clientWidth,i?i.clientWidth:0)-r),{width:r,height:a,x:c,y:l}}function Kn(s){var t=dt(s),e=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+n)}function mr(s){return["html","body","#document"].indexOf(at(s))>=0?s.ownerDocument.body:U(s)&&Kn(s)?s:mr(qs(s))}function De(s,t){var e;t===void 0&&(t=[]);var n=mr(s),i=n===((e=s.ownerDocument)==null?void 0:e.body),r=G(n),a=i?[r].concat(r.visualViewport||[],Kn(n)?n:[]):n,c=t.concat(a);return i?c:c.concat(De(qs(a)))}function Cn(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function $a(s,t){var e=Ee(s,!1,t==="fixed");return e.top=e.top+s.clientTop,e.left=e.left+s.clientLeft,e.bottom=e.top+s.clientHeight,e.right=e.left+s.clientWidth,e.width=s.clientWidth,e.height=s.clientHeight,e.x=e.left,e.y=e.top,e}function fi(s,t,e){return t===$n?Cn(La(s,e)):Yt(t)?$a(t,e):Cn(Ia(xt(s)))}function Ma(s){var t=De(qs(s)),e=["absolute","fixed"].indexOf(dt(s).position)>=0,n=e&&U(s)?ze(s):s;return Yt(n)?t.filter(function(i){return Yt(i)&&ur(i,n)&&at(i)!=="body"}):[]}function Ra(s,t,e,n){var i=t==="clippingParents"?Ma(s):[].concat(t),r=[].concat(i,[e]),a=r[0],c=r.reduce(function(l,h){var u=fi(s,h,n);return l.top=Kt(u.top,l.top),l.right=gs(u.right,l.right),l.bottom=gs(u.bottom,l.bottom),l.left=Kt(u.left,l.left),l},fi(s,a,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function gr(s){var t=s.reference,e=s.element,n=s.placement,i=n?rt(n):null,r=n?ve(n):null,a=t.x+t.width/2-e.width/2,c=t.y+t.height/2-e.height/2,l;switch(i){case H:l={x:a,y:t.y-e.height};break;case F:l={x:a,y:t.y+t.height};break;case K:l={x:t.x+t.width,y:c};break;case j:l={x:t.x-e.width,y:c};break;default:l={x:t.x,y:t.y}}var h=i?Hn(i):null;if(h!=null){var u=h==="y"?"height":"width";switch(r){case Gt:l[h]=l[h]-(t[u]/2-e[u]/2);break;case ge:l[h]=l[h]+(t[u]/2-e[u]/2);break}}return l}function be(s,t){t===void 0&&(t={});var e=t,n=e.placement,i=n===void 0?s.placement:n,r=e.strategy,a=r===void 0?s.strategy:r,c=e.boundary,l=c===void 0?Qi:c,h=e.rootBoundary,u=h===void 0?$n:h,_=e.elementContext,g=_===void 0?te:_,m=e.altBoundary,y=m===void 0?!1:m,b=e.padding,T=b===void 0?0:b,O=dr(typeof T!="number"?T:fr(T,we)),P=g===te?Ji:te,D=s.rects.popper,w=s.elements[y?P:g],C=Ra(Yt(w)?w:w.contextElement||xt(s.elements.popper),l,u,a),S=Ee(s.elements.reference),N=gr({reference:S,element:D,strategy:"absolute",placement:i}),M=Cn(Object.assign({},D,N)),$=g===te?M:S,L={top:C.top-$.top+O.top,bottom:$.bottom-C.bottom+O.bottom,left:C.left-$.left+O.left,right:$.right-C.right+O.right},R=s.modifiersData.offset;if(g===te&&R){var Q=R[i];Object.keys(L).forEach(function(V){var St=[K,F].indexOf(V)>=0?1:-1,Ot=[H,F].indexOf(V)>=0?"y":"x";L[V]+=Q[Ot]*St})}return L}function ka(s,t){t===void 0&&(t={});var e=t,n=e.placement,i=e.boundary,r=e.rootBoundary,a=e.padding,c=e.flipVariations,l=e.allowedAutoPlacements,h=l===void 0?Mn:l,u=ve(n),_=u?c?xn:xn.filter(function(y){return ve(y)===u}):we,g=_.filter(function(y){return h.indexOf(y)>=0});g.length===0&&(g=_);var m=g.reduce(function(y,b){return y[b]=be(s,{placement:b,boundary:i,rootBoundary:r,padding:a})[rt(b)],y},{});return Object.keys(m).sort(function(y,b){return m[y]-m[b]})}function Va(s){if(rt(s)===zs)return[];var t=fs(s);return[di(s),t,di(t)]}function Ha(s){var t=s.state,e=s.options,n=s.name;if(!t.modifiersData[n]._skip){for(var i=e.mainAxis,r=i===void 0?!0:i,a=e.altAxis,c=a===void 0?!0:a,l=e.fallbackPlacements,h=e.padding,u=e.boundary,_=e.rootBoundary,g=e.altBoundary,m=e.flipVariations,y=m===void 0?!0:m,b=e.allowedAutoPlacements,T=t.options.placement,O=rt(T),P=O===T,D=l||(P||!y?[fs(T)]:Va(T)),w=[T].concat(D).reduce(function(Xt,pt){return Xt.concat(rt(pt)===zs?ka(t,{placement:pt,boundary:u,rootBoundary:_,padding:h,flipVariations:y,allowedAutoPlacements:b}):pt)},[]),C=t.rects.reference,S=t.rects.popper,N=new Map,M=!0,$=w[0],L=0;L<w.length;L++){var R=w[L],Q=rt(R),V=ve(R)===Gt,St=[H,F].indexOf(Q)>=0,Ot=St?"width":"height",B=be(t,{placement:R,boundary:u,rootBoundary:_,altBoundary:g,padding:h}),J=St?V?K:j:V?F:H;C[Ot]>S[Ot]&&(J=fs(J));var Ze=fs(J),Nt=[];if(r&&Nt.push(B[Q]<=0),c&&Nt.push(B[J]<=0,B[Ze]<=0),Nt.every(function(Xt){return Xt})){$=R,M=!1;break}N.set(R,Nt)}if(M)for(var ts=y?3:1,sn=function(pt){var Se=w.find(function(ss){var Pt=N.get(ss);if(Pt)return Pt.slice(0,pt).every(function(nn){return nn})});if(Se)return $=Se,"break"},Ce=ts;Ce>0;Ce--){var es=sn(Ce);if(es==="break")break}t.placement!==$&&(t.modifiersData[n]._skip=!0,t.placement=$,t.reset=!0)}}const _r={name:"flip",enabled:!0,phase:"main",fn:Ha,requiresIfExists:["offset"],data:{_skip:!1}};function pi(s,t,e){return e===void 0&&(e={x:0,y:0}),{top:s.top-t.height-e.y,right:s.right-t.width+e.x,bottom:s.bottom-t.height+e.y,left:s.left-t.width-e.x}}function mi(s){return[H,K,F,j].some(function(t){return s[t]>=0})}function ja(s){var t=s.state,e=s.name,n=t.rects.reference,i=t.rects.popper,r=t.modifiersData.preventOverflow,a=be(t,{elementContext:"reference"}),c=be(t,{altBoundary:!0}),l=pi(a,n),h=pi(c,i,r),u=mi(l),_=mi(h);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:u,hasPopperEscaped:_},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":_})}const Er={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ja};function Wa(s,t,e){var n=rt(s),i=[j,H].indexOf(n)>=0?-1:1,r=typeof e=="function"?e(Object.assign({},t,{placement:s})):e,a=r[0],c=r[1];return a=a||0,c=(c||0)*i,[j,K].indexOf(n)>=0?{x:c,y:a}:{x:a,y:c}}function Ba(s){var t=s.state,e=s.options,n=s.name,i=e.offset,r=i===void 0?[0,0]:i,a=Mn.reduce(function(u,_){return u[_]=Wa(_,t.rects,r),u},{}),c=a[t.placement],l=c.x,h=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=h),t.modifiersData[n]=a}const vr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ba};function Fa(s){var t=s.state,e=s.name;t.modifiersData[e]=gr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Gn={name:"popperOffsets",enabled:!0,phase:"read",fn:Fa,data:{}};function Ka(s){return s==="x"?"y":"x"}function Ga(s){var t=s.state,e=s.options,n=s.name,i=e.mainAxis,r=i===void 0?!0:i,a=e.altAxis,c=a===void 0?!1:a,l=e.boundary,h=e.rootBoundary,u=e.altBoundary,_=e.padding,g=e.tether,m=g===void 0?!0:g,y=e.tetherOffset,b=y===void 0?0:y,T=be(t,{boundary:l,rootBoundary:h,padding:_,altBoundary:u}),O=rt(t.placement),P=ve(t.placement),D=!P,w=Hn(O),C=Ka(w),S=t.modifiersData.popperOffsets,N=t.rects.reference,M=t.rects.popper,$=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,L=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(S){if(r){var V,St=w==="y"?H:j,Ot=w==="y"?F:K,B=w==="y"?"height":"width",J=S[w],Ze=J+T[St],Nt=J-T[Ot],ts=m?-M[B]/2:0,sn=P===Gt?N[B]:M[B],Ce=P===Gt?-M[B]:-N[B],es=t.elements.arrow,Xt=m&&es?Vn(es):{width:0,height:0},pt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:hr(),Se=pt[St],ss=pt[Ot],Pt=Pe(0,N[B],Xt[B]),nn=D?N[B]/2-ts-Pt-Se-L.mainAxis:sn-Pt-Se-L.mainAxis,Jr=D?-N[B]/2+ts+Pt+ss+L.mainAxis:Ce+Pt+ss+L.mainAxis,rn=t.elements.arrow&&ze(t.elements.arrow),Zr=rn?w==="y"?rn.clientTop||0:rn.clientLeft||0:0,Jn=(V=R==null?void 0:R[w])!=null?V:0,to=J+nn-Jn-Zr,eo=J+Jr-Jn,Zn=Pe(m?gs(Ze,to):Ze,J,m?Kt(Nt,eo):Nt);S[w]=Zn,Q[w]=Zn-J}if(c){var ti,so=w==="x"?H:j,no=w==="x"?F:K,Dt=S[C],ns=C==="y"?"height":"width",ei=Dt+T[so],si=Dt-T[no],on=[H,j].indexOf(O)!==-1,ni=(ti=R==null?void 0:R[C])!=null?ti:0,ii=on?ei:Dt-N[ns]-M[ns]-ni+L.altAxis,ri=on?Dt+N[ns]+M[ns]-ni-L.altAxis:si,oi=m&&on?wa(ii,Dt,ri):Pe(m?ii:ei,Dt,m?ri:si);S[C]=oi,Q[C]=oi-Dt}t.modifiersData[n]=Q}}const br={name:"preventOverflow",enabled:!0,phase:"main",fn:Ga,requiresIfExists:["offset"]};function Ya(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function Ua(s){return s===G(s)||!U(s)?Bn(s):Ya(s)}function za(s){var t=s.getBoundingClientRect(),e=_e(t.width)/s.offsetWidth||1,n=_e(t.height)/s.offsetHeight||1;return e!==1||n!==1}function qa(s,t,e){e===void 0&&(e=!1);var n=U(t),i=U(t)&&za(t),r=xt(t),a=Ee(s,i,e),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!e)&&((at(t)!=="body"||Kn(r))&&(c=Ua(t)),U(t)?(l=Ee(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Fn(r))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function Xa(s){var t=new Map,e=new Set,n=[];s.forEach(function(r){t.set(r.name,r)});function i(r){e.add(r.name);var a=[].concat(r.requires||[],r.requiresIfExists||[]);a.forEach(function(c){if(!e.has(c)){var l=t.get(c);l&&i(l)}}),n.push(r)}return s.forEach(function(r){e.has(r.name)||i(r)}),n}function Qa(s){var t=Xa(s);return cr.reduce(function(e,n){return e.concat(t.filter(function(i){return i.phase===n}))},[])}function Ja(s){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(s())})})),t}}function Za(s){var t=s.reduce(function(e,n){var i=e[n.name];return e[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,e},{});return Object.keys(t).map(function(e){return t[e]})}var gi={placement:"bottom",modifiers:[],strategy:"absolute"};function _i(){for(var s=arguments.length,t=new Array(s),e=0;e<s;e++)t[e]=arguments[e];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Xs(s){s===void 0&&(s={});var t=s,e=t.defaultModifiers,n=e===void 0?[]:e,i=t.defaultOptions,r=i===void 0?gi:i;return function(c,l,h){h===void 0&&(h=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},gi,r),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},_=[],g=!1,m={state:u,setOptions:function(O){var P=typeof O=="function"?O(u.options):O;b(),u.options=Object.assign({},r,u.options,P),u.scrollParents={reference:Yt(c)?De(c):c.contextElement?De(c.contextElement):[],popper:De(l)};var D=Qa(Za([].concat(n,u.options.modifiers)));return u.orderedModifiers=D.filter(function(w){return w.enabled}),y(),m.update()},forceUpdate:function(){if(!g){var O=u.elements,P=O.reference,D=O.popper;if(_i(P,D)){u.rects={reference:qa(P,ze(D),u.options.strategy==="fixed"),popper:Vn(D)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(L){return u.modifiersData[L.name]=Object.assign({},L.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var C=u.orderedModifiers[w],S=C.fn,N=C.options,M=N===void 0?{}:N,$=C.name;typeof S=="function"&&(u=S({state:u,options:M,name:$,instance:m})||u)}}}},update:Ja(function(){return new Promise(function(T){m.forceUpdate(),T(u)})}),destroy:function(){b(),g=!0}};if(!_i(c,l))return m;m.setOptions(h).then(function(T){!g&&h.onFirstUpdate&&h.onFirstUpdate(T)});function y(){u.orderedModifiers.forEach(function(T){var O=T.name,P=T.options,D=P===void 0?{}:P,w=T.effect;if(typeof w=="function"){var C=w({state:u,name:O,instance:m,options:D}),S=function(){};_.push(C||S)}})}function b(){_.forEach(function(T){return T()}),_=[]}return m}}var tc=Xs(),ec=[Wn,Gn,jn,kn],sc=Xs({defaultModifiers:ec}),nc=[Wn,Gn,jn,kn,vr,_r,br,pr,Er],Yn=Xs({defaultModifiers:nc});const yr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ir,afterRead:er,afterWrite:ar,applyStyles:kn,arrow:pr,auto:zs,basePlacements:we,beforeMain:sr,beforeRead:Zi,beforeWrite:rr,bottom:F,clippingParents:Qi,computeStyles:jn,createPopper:Yn,createPopperBase:tc,createPopperLite:sc,detectOverflow:be,end:ge,eventListeners:Wn,flip:_r,hide:Er,left:j,main:nr,modifierPhases:cr,offset:vr,placements:Mn,popper:te,popperGenerator:Xs,popperOffsets:Gn,preventOverflow:br,read:tr,reference:Ji,right:K,start:Gt,top:H,variationPlacements:xn,viewport:$n,write:or},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const mt=new Map,ln={set(s,t,e){mt.has(s)||mt.set(s,new Map);const n=mt.get(s);if(!n.has(t)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(t,e)},get(s,t){return mt.has(s)&&mt.get(s).get(t)||null},remove(s,t){if(!mt.has(s))return;const e=mt.get(s);e.delete(t),e.size===0&&mt.delete(s)}},ic=1e6,rc=1e3,Sn="transitionend",wr=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),s),oc=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),ac=s=>{do s+=Math.floor(Math.random()*ic);while(document.getElementById(s));return s},cc=s=>{if(!s)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(s);const n=Number.parseFloat(t),i=Number.parseFloat(e);return!n&&!i?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*rc)},Tr=s=>{s.dispatchEvent(new Event(Sn))},ut=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),yt=s=>ut(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(wr(s)):null,Te=s=>{if(!ut(s)||s.getClientRects().length===0)return!1;const t=getComputedStyle(s).getPropertyValue("visibility")==="visible",e=s.closest("details:not([open])");if(!e)return t;if(e!==s){const n=s.closest("summary");if(n&&n.parentNode!==e||n===null)return!1}return t},wt=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",xr=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const t=s.getRootNode();return t instanceof ShadowRoot?t:null}return s instanceof ShadowRoot?s:s.parentNode?xr(s.parentNode):null},_s=()=>{},qe=s=>{s.offsetHeight},Ar=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,un=[],lc=s=>{document.readyState==="loading"?(un.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of un)t()}),un.push(s)):s()},z=()=>document.documentElement.dir==="rtl",X=s=>{lc(()=>{const t=Ar();if(t){const e=s.NAME,n=t.fn[e];t.fn[e]=s.jQueryInterface,t.fn[e].Constructor=s,t.fn[e].noConflict=()=>(t.fn[e]=n,s.jQueryInterface)}})},W=(s,t=[],e=s)=>typeof s=="function"?s(...t):e,Cr=(s,t,e=!0)=>{if(!e){W(s);return}const i=cc(t)+5;let r=!1;const a=({target:c})=>{c===t&&(r=!0,t.removeEventListener(Sn,a),W(s))};t.addEventListener(Sn,a),setTimeout(()=>{r||Tr(t)},i)},Un=(s,t,e,n)=>{const i=s.length;let r=s.indexOf(t);return r===-1?!e&&n?s[i-1]:s[0]:(r+=e?1:-1,n&&(r=(r+i)%i),s[Math.max(0,Math.min(r,i-1))])},uc=/[^.]*(?=\..*)\.|.*/,hc=/\..*/,dc=/::\d+$/,hn={};let Ei=1;const Sr={mouseenter:"mouseover",mouseleave:"mouseout"},fc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Or(s,t){return t&&`${t}::${Ei++}`||s.uidEvent||Ei++}function Nr(s){const t=Or(s);return s.uidEvent=t,hn[t]=hn[t]||{},hn[t]}function pc(s,t){return function e(n){return zn(n,{delegateTarget:s}),e.oneOff&&d.off(s,n.type,t),t.apply(s,[n])}}function mc(s,t,e){return function n(i){const r=s.querySelectorAll(t);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const c of r)if(c===a)return zn(i,{delegateTarget:a}),n.oneOff&&d.off(s,i.type,t,e),e.apply(a,[i])}}function Pr(s,t,e=null){return Object.values(s).find(n=>n.callable===t&&n.delegationSelector===e)}function Dr(s,t,e){const n=typeof t=="string",i=n?e:t||e;let r=Lr(s);return fc.has(r)||(r=s),[n,i,r]}function vi(s,t,e,n,i){if(typeof t!="string"||!s)return;let[r,a,c]=Dr(t,e,n);t in Sr&&(a=(y=>function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return y.call(this,b)})(a));const l=Nr(s),h=l[c]||(l[c]={}),u=Pr(h,a,r?e:null);if(u){u.oneOff=u.oneOff&&i;return}const _=Or(a,t.replace(uc,"")),g=r?mc(s,e,a):pc(s,a);g.delegationSelector=r?e:null,g.callable=a,g.oneOff=i,g.uidEvent=_,h[_]=g,s.addEventListener(c,g,r)}function On(s,t,e,n,i){const r=Pr(t[e],n,i);r&&(s.removeEventListener(e,r,!!i),delete t[e][r.uidEvent])}function gc(s,t,e,n){const i=t[e]||{};for(const[r,a]of Object.entries(i))r.includes(n)&&On(s,t,e,a.callable,a.delegationSelector)}function Lr(s){return s=s.replace(hc,""),Sr[s]||s}const d={on(s,t,e,n){vi(s,t,e,n,!1)},one(s,t,e,n){vi(s,t,e,n,!0)},off(s,t,e,n){if(typeof t!="string"||!s)return;const[i,r,a]=Dr(t,e,n),c=a!==t,l=Nr(s),h=l[a]||{},u=t.startsWith(".");if(typeof r<"u"){if(!Object.keys(h).length)return;On(s,l,a,r,i?e:null);return}if(u)for(const _ of Object.keys(l))gc(s,l,_,t.slice(1));for(const[_,g]of Object.entries(h)){const m=_.replace(dc,"");(!c||t.includes(m))&&On(s,l,a,g.callable,g.delegationSelector)}},trigger(s,t,e){if(typeof t!="string"||!s)return null;const n=Ar(),i=Lr(t),r=t!==i;let a=null,c=!0,l=!0,h=!1;r&&n&&(a=n.Event(t,e),n(s).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());const u=zn(new Event(t,{bubbles:c,cancelable:!0}),e);return h&&u.preventDefault(),l&&s.dispatchEvent(u),u.defaultPrevented&&a&&a.preventDefault(),u}};function zn(s,t={}){for(const[e,n]of Object.entries(t))try{s[e]=n}catch{Object.defineProperty(s,e,{configurable:!0,get(){return n}})}return s}function bi(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function dn(s){return s.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const ht={setDataAttribute(s,t,e){s.setAttribute(`data-bs-${dn(t)}`,e)},removeDataAttribute(s,t){s.removeAttribute(`data-bs-${dn(t)}`)},getDataAttributes(s){if(!s)return{};const t={},e=Object.keys(s.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of e){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=bi(s.dataset[n])}return t},getDataAttribute(s,t){return bi(s.getAttribute(`data-bs-${dn(t)}`))}};class Xe{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const n=ut(e)?ht.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...ut(e)?ht.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[n,i]of Object.entries(e)){const r=t[n],a=ut(r)?"element":oc(r);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${a}" but expected type "${i}".`)}}}const _c="5.3.3";class et extends Xe{constructor(t,e){super(),t=yt(t),t&&(this._element=t,this._config=this._getConfig(e),ln.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ln.remove(this._element,this.constructor.DATA_KEY),d.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,n=!0){Cr(t,e,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return ln.get(yt(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return _c}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const fn=s=>{let t=s.getAttribute("data-bs-target");if(!t||t==="#"){let e=s.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>wr(e)).join(","):null},v={find(s,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,s))},findOne(s,t=document.documentElement){return Element.prototype.querySelector.call(t,s)},children(s,t){return[].concat(...s.children).filter(e=>e.matches(t))},parents(s,t){const e=[];let n=s.parentNode.closest(t);for(;n;)e.push(n),n=n.parentNode.closest(t);return e},prev(s,t){let e=s.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(s,t){let e=s.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(s){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,s).filter(e=>!wt(e)&&Te(e))},getSelectorFromElement(s){const t=fn(s);return t&&v.findOne(t)?t:null},getElementFromSelector(s){const t=fn(s);return t?v.findOne(t):null},getMultipleElementsFromSelector(s){const t=fn(s);return t?v.find(t):[]}},Qs=(s,t="hide")=>{const e=`click.dismiss${s.EVENT_KEY}`,n=s.NAME;d.on(document,e,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),wt(this))return;const r=v.getElementFromSelector(this)||this.closest(`.${n}`);s.getOrCreateInstance(r)[t]()})},Ec="alert",vc="bs.alert",Ir=`.${vc}`,bc=`close${Ir}`,yc=`closed${Ir}`,wc="fade",Tc="show";class Js extends et{static get NAME(){return Ec}close(){if(d.trigger(this._element,bc).defaultPrevented)return;this._element.classList.remove(Tc);const e=this._element.classList.contains(wc);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),d.trigger(this._element,yc),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Js.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Qs(Js,"close");X(Js);const xc="button",Ac="bs.button",Cc=`.${Ac}`,Sc=".data-api",Oc="active",yi='[data-bs-toggle="button"]',Nc=`click${Cc}${Sc}`;class Zs extends et{static get NAME(){return xc}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Oc))}static jQueryInterface(t){return this.each(function(){const e=Zs.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}d.on(document,Nc,yi,s=>{s.preventDefault();const t=s.target.closest(yi);Zs.getOrCreateInstance(t).toggle()});X(Zs);const Pc="swipe",xe=".bs.swipe",Dc=`touchstart${xe}`,Lc=`touchmove${xe}`,Ic=`touchend${xe}`,$c=`pointerdown${xe}`,Mc=`pointerup${xe}`,Rc="touch",kc="pen",Vc="pointer-event",Hc=40,jc={endCallback:null,leftCallback:null,rightCallback:null},Wc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Es extends Xe{constructor(t,e){super(),this._element=t,!(!t||!Es.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return jc}static get DefaultType(){return Wc}static get NAME(){return Pc}dispose(){d.off(this._element,xe)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),W(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Hc)return;const e=t/this._deltaX;this._deltaX=0,e&&W(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(d.on(this._element,$c,t=>this._start(t)),d.on(this._element,Mc,t=>this._end(t)),this._element.classList.add(Vc)):(d.on(this._element,Dc,t=>this._start(t)),d.on(this._element,Lc,t=>this._move(t)),d.on(this._element,Ic,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===kc||t.pointerType===Rc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Bc="carousel",Fc="bs.carousel",At=`.${Fc}`,$r=".data-api",Kc="ArrowLeft",Gc="ArrowRight",Yc=500,Oe="next",Qt="prev",ee="left",ps="right",Uc=`slide${At}`,pn=`slid${At}`,zc=`keydown${At}`,qc=`mouseenter${At}`,Xc=`mouseleave${At}`,Qc=`dragstart${At}`,Jc=`load${At}${$r}`,Zc=`click${At}${$r}`,Mr="carousel",rs="active",tl="slide",el="carousel-item-end",sl="carousel-item-start",nl="carousel-item-next",il="carousel-item-prev",Rr=".active",kr=".carousel-item",rl=Rr+kr,ol=".carousel-item img",al=".carousel-indicators",cl="[data-bs-slide], [data-bs-slide-to]",ll='[data-bs-ride="carousel"]',ul={[Kc]:ps,[Gc]:ee},hl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},dl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Qe extends et{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=v.findOne(al,this._element),this._addEventListeners(),this._config.ride===Mr&&this.cycle()}static get Default(){return hl}static get DefaultType(){return dl}static get NAME(){return Bc}next(){this._slide(Oe)}nextWhenVisible(){!document.hidden&&Te(this._element)&&this.next()}prev(){this._slide(Qt)}pause(){this._isSliding&&Tr(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){d.one(this._element,pn,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){d.one(this._element,pn,()=>this.to(t));return}const n=this._getItemIndex(this._getActive());if(n===t)return;const i=t>n?Oe:Qt;this._slide(i,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&d.on(this._element,zc,t=>this._keydown(t)),this._config.pause==="hover"&&(d.on(this._element,qc,()=>this.pause()),d.on(this._element,Xc,()=>this._maybeEnableCycle())),this._config.touch&&Es.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of v.find(ol,this._element))d.on(n,Qc,i=>i.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(ee)),rightCallback:()=>this._slide(this._directionToOrder(ps)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Yc+this._config.interval))}};this._swipeHelper=new Es(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=ul[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=v.findOne(Rr,this._indicatorsElement);e.classList.remove(rs),e.removeAttribute("aria-current");const n=v.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);n&&(n.classList.add(rs),n.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const n=this._getActive(),i=t===Oe,r=e||Un(this._getItems(),n,i,this._config.wrap);if(r===n)return;const a=this._getItemIndex(r),c=m=>d.trigger(this._element,m,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:a});if(c(Uc).defaultPrevented||!n||!r)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const u=i?sl:el,_=i?nl:il;r.classList.add(_),qe(r),n.classList.add(u),r.classList.add(u);const g=()=>{r.classList.remove(u,_),r.classList.add(rs),n.classList.remove(rs,_,u),this._isSliding=!1,c(pn)};this._queueCallback(g,n,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(tl)}_getActive(){return v.findOne(rl,this._element)}_getItems(){return v.find(kr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return z()?t===ee?Qt:Oe:t===ee?Oe:Qt}_orderToDirection(t){return z()?t===Qt?ee:ps:t===Qt?ps:ee}static jQueryInterface(t){return this.each(function(){const e=Qe.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}d.on(document,Zc,cl,function(s){const t=v.getElementFromSelector(this);if(!t||!t.classList.contains(Mr))return;s.preventDefault();const e=Qe.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");if(n){e.to(n),e._maybeEnableCycle();return}if(ht.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});d.on(window,Jc,()=>{const s=v.find(ll);for(const t of s)Qe.getOrCreateInstance(t)});X(Qe);const fl="collapse",pl="bs.collapse",Je=`.${pl}`,ml=".data-api",gl=`show${Je}`,_l=`shown${Je}`,El=`hide${Je}`,vl=`hidden${Je}`,bl=`click${Je}${ml}`,mn="show",ne="collapse",os="collapsing",yl="collapsed",wl=`:scope .${ne} .${ne}`,Tl="collapse-horizontal",xl="width",Al="height",Cl=".collapse.show, .collapse.collapsing",Nn='[data-bs-toggle="collapse"]',Sl={parent:null,toggle:!0},Ol={parent:"(null|element)",toggle:"boolean"};class Le extends et{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const n=v.find(Nn);for(const i of n){const r=v.getSelectorFromElement(i),a=v.find(r).filter(c=>c===this._element);r!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Sl}static get DefaultType(){return Ol}static get NAME(){return fl}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Cl).filter(c=>c!==this._element).map(c=>Le.getOrCreateInstance(c,{toggle:!1}))),t.length&&t[0]._isTransitioning||d.trigger(this._element,gl).defaultPrevented)return;for(const c of t)c.hide();const n=this._getDimension();this._element.classList.remove(ne),this._element.classList.add(os),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(os),this._element.classList.add(ne,mn),this._element.style[n]="",d.trigger(this._element,_l)},a=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[n]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||d.trigger(this._element,El).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,qe(this._element),this._element.classList.add(os),this._element.classList.remove(ne,mn);for(const i of this._triggerArray){const r=v.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(os),this._element.classList.add(ne),d.trigger(this._element,vl)};this._element.style[e]="",this._queueCallback(n,this._element,!0)}_isShown(t=this._element){return t.classList.contains(mn)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=yt(t.parent),t}_getDimension(){return this._element.classList.contains(Tl)?xl:Al}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Nn);for(const e of t){const n=v.getElementFromSelector(e);n&&this._addAriaAndCollapsedClass([e],this._isShown(n))}}_getFirstLevelChildren(t){const e=v.find(wl,this._config.parent);return v.find(t,this._config.parent).filter(n=>!e.includes(n))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const n of t)n.classList.toggle(yl,!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const n=Le.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}d.on(document,bl,Nn,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const t of v.getMultipleElementsFromSelector(this))Le.getOrCreateInstance(t,{toggle:!1}).toggle()});X(Le);const wi="dropdown",Nl="bs.dropdown",zt=`.${Nl}`,qn=".data-api",Pl="Escape",Ti="Tab",Dl="ArrowUp",xi="ArrowDown",Ll=2,Il=`hide${zt}`,$l=`hidden${zt}`,Ml=`show${zt}`,Rl=`shown${zt}`,Vr=`click${zt}${qn}`,Hr=`keydown${zt}${qn}`,kl=`keyup${zt}${qn}`,se="show",Vl="dropup",Hl="dropend",jl="dropstart",Wl="dropup-center",Bl="dropdown-center",Lt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Fl=`${Lt}.${se}`,ms=".dropdown-menu",Kl=".navbar",Gl=".navbar-nav",Yl=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ul=z()?"top-end":"top-start",zl=z()?"top-start":"top-end",ql=z()?"bottom-end":"bottom-start",Xl=z()?"bottom-start":"bottom-end",Ql=z()?"left-start":"right-start",Jl=z()?"right-start":"left-start",Zl="top",tu="bottom",eu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},su={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ot extends et{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=v.next(this._element,ms)[0]||v.prev(this._element,ms)[0]||v.findOne(ms,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return eu}static get DefaultType(){return su}static get NAME(){return wi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(wt(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!d.trigger(this._element,Ml,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Gl))for(const n of[].concat(...document.body.children))d.on(n,"mouseover",_s);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(se),this._element.classList.add(se),d.trigger(this._element,Rl,t)}}hide(){if(wt(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!d.trigger(this._element,Il,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))d.off(n,"mouseover",_s);this._popper&&this._popper.destroy(),this._menu.classList.remove(se),this._element.classList.remove(se),this._element.setAttribute("aria-expanded","false"),ht.removeDataAttribute(this._menu,"popper"),d.trigger(this._element,$l,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!ut(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${wi.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof yr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:ut(this._config.reference)?t=yt(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Yn(t,this._menu,e)}_isShown(){return this._menu.classList.contains(se)}_getPlacement(){const t=this._parent;if(t.classList.contains(Hl))return Ql;if(t.classList.contains(jl))return Jl;if(t.classList.contains(Wl))return Zl;if(t.classList.contains(Bl))return tu;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Vl)?e?zl:Ul:e?Xl:ql}_detectNavbar(){return this._element.closest(Kl)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ht.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...W(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const n=v.find(Yl,this._menu).filter(i=>Te(i));n.length&&Un(n,e,t===xi,!n.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=ot.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===Ll||t.type==="keyup"&&t.key!==Ti)return;const e=v.find(Fl);for(const n of e){const i=ot.getInstance(n);if(!i||i._config.autoClose===!1)continue;const r=t.composedPath(),a=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Ti||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const c={relatedTarget:i._element};t.type==="click"&&(c.clickEvent=t),i._completeHide(c)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),n=t.key===Pl,i=[Dl,xi].includes(t.key);if(!i&&!n||e&&!n)return;t.preventDefault();const r=this.matches(Lt)?this:v.prev(this,Lt)[0]||v.next(this,Lt)[0]||v.findOne(Lt,t.delegateTarget.parentNode),a=ot.getOrCreateInstance(r);if(i){t.stopPropagation(),a.show(),a._selectMenuItem(t);return}a._isShown()&&(t.stopPropagation(),a.hide(),r.focus())}}d.on(document,Hr,Lt,ot.dataApiKeydownHandler);d.on(document,Hr,ms,ot.dataApiKeydownHandler);d.on(document,Vr,ot.clearMenus);d.on(document,kl,ot.clearMenus);d.on(document,Vr,Lt,function(s){s.preventDefault(),ot.getOrCreateInstance(this).toggle()});X(ot);const jr="backdrop",nu="fade",Ai="show",Ci=`mousedown.bs.${jr}`,iu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ru={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Wr extends Xe{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return iu}static get DefaultType(){return ru}static get NAME(){return jr}show(t){if(!this._config.isVisible){W(t);return}this._append();const e=this._getElement();this._config.isAnimated&&qe(e),e.classList.add(Ai),this._emulateAnimation(()=>{W(t)})}hide(t){if(!this._config.isVisible){W(t);return}this._getElement().classList.remove(Ai),this._emulateAnimation(()=>{this.dispose(),W(t)})}dispose(){this._isAppended&&(d.off(this._element,Ci),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(nu),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=yt(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),d.on(t,Ci,()=>{W(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Cr(t,this._getElement(),this._config.isAnimated)}}const ou="focustrap",au="bs.focustrap",vs=`.${au}`,cu=`focusin${vs}`,lu=`keydown.tab${vs}`,uu="Tab",hu="forward",Si="backward",du={autofocus:!0,trapElement:null},fu={autofocus:"boolean",trapElement:"element"};class Br extends Xe{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return du}static get DefaultType(){return fu}static get NAME(){return ou}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),d.off(document,vs),d.on(document,cu,t=>this._handleFocusin(t)),d.on(document,lu,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,d.off(document,vs))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const n=v.focusableChildren(e);n.length===0?e.focus():this._lastTabNavDirection===Si?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){t.key===uu&&(this._lastTabNavDirection=t.shiftKey?Si:hu)}}const Oi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ni=".sticky-top",as="padding-right",Pi="margin-right";class Pn{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,as,e=>e+t),this._setElementAttributes(Oi,as,e=>e+t),this._setElementAttributes(Ni,Pi,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,as),this._resetElementAttributes(Oi,as),this._resetElementAttributes(Ni,Pi)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const i=this.getWidth(),r=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,e);const c=window.getComputedStyle(a).getPropertyValue(e);a.style.setProperty(e,`${n(Number.parseFloat(c))}px`)};this._applyManipulationCallback(t,r)}_saveInitialAttribute(t,e){const n=t.style.getPropertyValue(e);n&&ht.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){const n=i=>{const r=ht.getDataAttribute(i,e);if(r===null){i.style.removeProperty(e);return}ht.removeDataAttribute(i,e),i.style.setProperty(e,r)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,e){if(ut(t)){e(t);return}for(const n of v.find(t,this._element))e(n)}}const pu="modal",mu="bs.modal",q=`.${mu}`,gu=".data-api",_u="Escape",Eu=`hide${q}`,vu=`hidePrevented${q}`,Fr=`hidden${q}`,Kr=`show${q}`,bu=`shown${q}`,yu=`resize${q}`,wu=`click.dismiss${q}`,Tu=`mousedown.dismiss${q}`,xu=`keydown.dismiss${q}`,Au=`click${q}${gu}`,Di="modal-open",Cu="fade",Li="show",gn="modal-static",Su=".modal.show",Ou=".modal-dialog",Nu=".modal-body",Pu='[data-bs-toggle="modal"]',Du={backdrop:!0,focus:!0,keyboard:!0},Lu={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let Ie=class Gr extends et{constructor(t,e){super(t,e),this._dialog=v.findOne(Ou,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Pn,this._addEventListeners()}static get Default(){return Du}static get DefaultType(){return Lu}static get NAME(){return pu}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||d.trigger(this._element,Kr,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Di),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||d.trigger(this._element,Eu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Li),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){d.off(window,q),d.off(this._dialog,q),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Wr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Br({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=v.findOne(Nu,this._dialog);e&&(e.scrollTop=0),qe(this._element),this._element.classList.add(Li);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,d.trigger(this._element,bu,{relatedTarget:t})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){d.on(this._element,xu,t=>{if(t.key===_u){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),d.on(window,yu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),d.on(this._element,Tu,t=>{d.one(this._element,wu,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Di),this._resetAdjustments(),this._scrollBar.reset(),d.trigger(this._element,Fr)})}_isAnimated(){return this._element.classList.contains(Cu)}_triggerBackdropTransition(){if(d.trigger(this._element,vu).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(gn)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(gn),this._queueCallback(()=>{this._element.classList.remove(gn),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!t){const i=z()?"paddingLeft":"paddingRight";this._element.style[i]=`${e}px`}if(!n&&t){const i=z()?"paddingRight":"paddingLeft";this._element.style[i]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const n=Gr.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](e)}})}};d.on(document,Au,Pu,function(s){const t=v.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),d.one(t,Kr,i=>{i.defaultPrevented||d.one(t,Fr,()=>{Te(this)&&this.focus()})});const e=v.findOne(Su);e&&Ie.getInstance(e).hide(),Ie.getOrCreateInstance(t).toggle(this)});Qs(Ie);X(Ie);const Iu="offcanvas",$u="bs.offcanvas",ft=`.${$u}`,Yr=".data-api",Mu=`load${ft}${Yr}`,Ru="Escape",Ii="show",$i="showing",Mi="hiding",ku="offcanvas-backdrop",Ur=".offcanvas.show",Vu=`show${ft}`,Hu=`shown${ft}`,ju=`hide${ft}`,Ri=`hidePrevented${ft}`,zr=`hidden${ft}`,Wu=`resize${ft}`,Bu=`click${ft}${Yr}`,Fu=`keydown.dismiss${ft}`,Ku='[data-bs-toggle="offcanvas"]',Gu={backdrop:!0,keyboard:!0,scroll:!1},Yu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Tt extends et{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Gu}static get DefaultType(){return Yu}static get NAME(){return Iu}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||d.trigger(this._element,Vu,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Pn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add($i);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Ii),this._element.classList.remove($i),d.trigger(this._element,Hu,{relatedTarget:t})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||d.trigger(this._element,ju).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Mi),this._backdrop.hide();const e=()=>{this._element.classList.remove(Ii,Mi),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Pn().reset(),d.trigger(this._element,zr)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){d.trigger(this._element,Ri);return}this.hide()},e=!!this._config.backdrop;return new Wr({className:ku,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Br({trapElement:this._element})}_addEventListeners(){d.on(this._element,Fu,t=>{if(t.key===Ru){if(this._config.keyboard){this.hide();return}d.trigger(this._element,Ri)}})}static jQueryInterface(t){return this.each(function(){const e=Tt.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}d.on(document,Bu,Ku,function(s){const t=v.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),wt(this))return;d.one(t,zr,()=>{Te(this)&&this.focus()});const e=v.findOne(Ur);e&&e!==t&&Tt.getInstance(e).hide(),Tt.getOrCreateInstance(t).toggle(this)});d.on(window,Mu,()=>{for(const s of v.find(Ur))Tt.getOrCreateInstance(s).show()});d.on(window,Wu,()=>{for(const s of v.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&Tt.getOrCreateInstance(s).hide()});Qs(Tt);X(Tt);const Uu=/^aria-[\w-]*$/i,qr={"*":["class","dir","id","lang","role",Uu],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xu=(s,t)=>{const e=s.nodeName.toLowerCase();return t.includes(e)?zu.has(e)?!!qu.test(s.nodeValue):!0:t.filter(n=>n instanceof RegExp).some(n=>n.test(e))};function Qu(s,t,e){if(!s.length)return s;if(e&&typeof e=="function")return e(s);const i=new window.DOMParser().parseFromString(s,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const a of r){const c=a.nodeName.toLowerCase();if(!Object.keys(t).includes(c)){a.remove();continue}const l=[].concat(...a.attributes),h=[].concat(t["*"]||[],t[c]||[]);for(const u of l)Xu(u,h)||a.removeAttribute(u.nodeName)}return i.body.innerHTML}const Ju="TemplateFactory",Zu={allowList:qr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},th={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},eh={entry:"(string|element|function|null)",selector:"(string|element)"};class sh extends Xe{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Zu}static get DefaultType(){return th}static get NAME(){return Ju}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(t,r,i);const e=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,n]of Object.entries(t))super._typeCheckConfig({selector:e,entry:n},eh)}_setContent(t,e,n){const i=v.findOne(n,t);if(i){if(e=this._resolvePossibleFunction(e),!e){i.remove();return}if(ut(e)){this._putElementInTemplate(yt(e),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(e);return}i.textContent=e}}_maybeSanitize(t){return this._config.sanitize?Qu(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return W(t,[this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const nh="tooltip",ih=new Set(["sanitize","allowList","sanitizeFn"]),_n="fade",rh="modal",cs="show",oh=".tooltip-inner",ki=`.${rh}`,Vi="hide.bs.modal",Ne="hover",En="focus",ah="click",ch="manual",lh="hide",uh="hidden",hh="show",dh="shown",fh="inserted",ph="click",mh="focusin",gh="focusout",_h="mouseenter",Eh="mouseleave",vh={AUTO:"auto",TOP:"top",RIGHT:z()?"left":"right",BOTTOM:"bottom",LEFT:z()?"right":"left"},bh={allowList:qr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},yh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ae extends et{constructor(t,e){if(typeof yr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return bh}static get DefaultType(){return yh}static get NAME(){return nh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),d.off(this._element.closest(ki),Vi,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=d.trigger(this._element,this.constructor.eventName(hh)),n=(xr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!n)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),d.trigger(this._element,this.constructor.eventName(fh))),this._popper=this._createPopper(i),i.classList.add(cs),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))d.on(c,"mouseover",_s);const a=()=>{d.trigger(this._element,this.constructor.eventName(dh)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||d.trigger(this._element,this.constructor.eventName(lh)).defaultPrevented)return;if(this._getTipElement().classList.remove(cs),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))d.off(i,"mouseover",_s);this._activeTrigger[ah]=!1,this._activeTrigger[En]=!1,this._activeTrigger[Ne]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),d.trigger(this._element,this.constructor.eventName(uh)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(_n,cs),e.classList.add(`bs-${this.constructor.NAME}-auto`);const n=ac(this.constructor.NAME).toString();return e.setAttribute("id",n),this._isAnimated()&&e.classList.add(_n),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new sh({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[oh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(_n)}_isShown(){return this.tip&&this.tip.classList.contains(cs)}_createPopper(t){const e=W(this._config.placement,[this,t,this._element]),n=vh[e.toUpperCase()];return Yn(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return W(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...e,...W(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")d.on(this._element,this.constructor.eventName(ph),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(e!==ch){const n=e===Ne?this.constructor.eventName(_h):this.constructor.eventName(mh),i=e===Ne?this.constructor.eventName(Eh):this.constructor.eventName(gh);d.on(this._element,n,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusin"?En:Ne]=!0,a._enter()}),d.on(this._element,i,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusout"?En:Ne]=a._element.contains(r.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},d.on(this._element.closest(ki),Vi,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=ht.getDataAttributes(this._element);for(const n of Object.keys(e))ih.has(n)&&delete e[n];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:yt(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,n]of Object.entries(this._config))this.constructor.Default[e]!==n&&(t[e]=n);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Ae.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}X(Ae);const wh="popover",Th=".popover-header",xh=".popover-body",Ah={...Ae.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ch={...Ae.DefaultType,content:"(null|string|element|function)"};class Xn extends Ae{static get Default(){return Ah}static get DefaultType(){return Ch}static get NAME(){return wh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Th]:this._getTitle(),[xh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=Xn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}X(Xn);const Sh="scrollspy",Oh="bs.scrollspy",Qn=`.${Oh}`,Nh=".data-api",Ph=`activate${Qn}`,Hi=`click${Qn}`,Dh=`load${Qn}${Nh}`,Lh="dropdown-item",Jt="active",Ih='[data-bs-spy="scroll"]',vn="[href]",$h=".nav, .list-group",ji=".nav-link",Mh=".nav-item",Rh=".list-group-item",kh=`${ji}, ${Mh} > ${ji}, ${Rh}`,Vh=".dropdown",Hh=".dropdown-toggle",jh={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Wh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class tn extends et{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return jh}static get DefaultType(){return Wh}static get NAME(){return Sh}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=yt(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(d.off(this._config.target,Hi),d.on(this._config.target,Hi,vn,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const n=this._rootElement||window,i=e.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:i,behavior:"smooth"});return}n.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=a=>this._targetLinks.get(`#${a.target.id}`),n=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(e(a))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(a));continue}const c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&c){if(n(a),!i)return;continue}!r&&!c&&n(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=v.find(vn,this._config.target);for(const e of t){if(!e.hash||wt(e))continue;const n=v.findOne(decodeURI(e.hash),this._element);Te(n)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,n))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Jt),this._activateParents(t),d.trigger(this._element,Ph,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Lh)){v.findOne(Hh,t.closest(Vh)).classList.add(Jt);return}for(const e of v.parents(t,$h))for(const n of v.prev(e,kh))n.classList.add(Jt)}_clearActiveClass(t){t.classList.remove(Jt);const e=v.find(`${vn}.${Jt}`,t);for(const n of e)n.classList.remove(Jt)}static jQueryInterface(t){return this.each(function(){const e=tn.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}d.on(window,Dh,()=>{for(const s of v.find(Ih))tn.getOrCreateInstance(s)});X(tn);const Bh="tab",Fh="bs.tab",qt=`.${Fh}`,Kh=`hide${qt}`,Gh=`hidden${qt}`,Yh=`show${qt}`,Uh=`shown${qt}`,zh=`click${qt}`,qh=`keydown${qt}`,Xh=`load${qt}`,Qh="ArrowLeft",Wi="ArrowRight",Jh="ArrowUp",Bi="ArrowDown",bn="Home",Fi="End",It="active",Ki="fade",yn="show",Zh="dropdown",Xr=".dropdown-toggle",td=".dropdown-menu",wn=`:not(${Xr})`,ed='.list-group, .nav, [role="tablist"]',sd=".nav-item, .list-group-item",nd=`.nav-link${wn}, .list-group-item${wn}, [role="tab"]${wn}`,Qr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Tn=`${nd}, ${Qr}`,id=`.${It}[data-bs-toggle="tab"], .${It}[data-bs-toggle="pill"], .${It}[data-bs-toggle="list"]`;class ye extends et{constructor(t){super(t),this._parent=this._element.closest(ed),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),d.on(this._element,qh,e=>this._keydown(e)))}static get NAME(){return Bh}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),n=e?d.trigger(e,Kh,{relatedTarget:t}):null;d.trigger(t,Yh,{relatedTarget:e}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(It),this._activate(v.getElementFromSelector(t));const n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(yn);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),d.trigger(t,Uh,{relatedTarget:e})};this._queueCallback(n,t,t.classList.contains(Ki))}_deactivate(t,e){if(!t)return;t.classList.remove(It),t.blur(),this._deactivate(v.getElementFromSelector(t));const n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(yn);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),d.trigger(t,Gh,{relatedTarget:e})};this._queueCallback(n,t,t.classList.contains(Ki))}_keydown(t){if(![Qh,Wi,Jh,Bi,bn,Fi].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(i=>!wt(i));let n;if([bn,Fi].includes(t.key))n=e[t.key===bn?0:e.length-1];else{const i=[Wi,Bi].includes(t.key);n=Un(e,t.target,i,!0)}n&&(n.focus({preventScroll:!0}),ye.getOrCreateInstance(n).show())}_getChildren(){return v.find(Tn,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const n of e)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",e),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=v.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const n=this._getOuterElement(t);if(!n.classList.contains(Zh))return;const i=(r,a)=>{const c=v.findOne(r,n);c&&c.classList.toggle(a,e)};i(Xr,It),i(td,yn),n.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}_elemIsActive(t){return t.classList.contains(It)}_getInnerElement(t){return t.matches(Tn)?t:v.findOne(Tn,t)}_getOuterElement(t){return t.closest(sd)||t}static jQueryInterface(t){return this.each(function(){const e=ye.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}d.on(document,zh,Qr,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!wt(this)&&ye.getOrCreateInstance(this).show()});d.on(window,Xh,()=>{for(const s of v.find(id))ye.getOrCreateInstance(s)});X(ye);const rd="toast",od="bs.toast",Ct=`.${od}`,ad=`mouseover${Ct}`,cd=`mouseout${Ct}`,ld=`focusin${Ct}`,ud=`focusout${Ct}`,hd=`hide${Ct}`,dd=`hidden${Ct}`,fd=`show${Ct}`,pd=`shown${Ct}`,md="fade",Gi="hide",ls="show",us="showing",gd={animation:"boolean",autohide:"boolean",delay:"number"},_d={animation:!0,autohide:!0,delay:5e3};class en extends et{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _d}static get DefaultType(){return gd}static get NAME(){return rd}show(){if(d.trigger(this._element,fd).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(md);const e=()=>{this._element.classList.remove(us),d.trigger(this._element,pd),this._maybeScheduleHide()};this._element.classList.remove(Gi),qe(this._element),this._element.classList.add(ls,us),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||d.trigger(this._element,hd).defaultPrevented)return;const e=()=>{this._element.classList.add(Gi),this._element.classList.remove(us,ls),d.trigger(this._element,dd)};this._element.classList.add(us),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ls),super.dispose()}isShown(){return this._element.classList.contains(ls)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){d.on(this._element,ad,t=>this._onInteraction(t,!0)),d.on(this._element,cd,t=>this._onInteraction(t,!1)),d.on(this._element,ld,t=>this._onInteraction(t,!0)),d.on(this._element,ud,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=en.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Qs(en);X(en);const hs={"game-modal-dialog":"_game-modal-dialog_zjc1u_1","game-modal-content":"_game-modal-content_zjc1u_8","game-modal-body":"_game-modal-body_zjc1u_13","game-modal-footer":"_game-modal-footer_zjc1u_19"},Ed=()=>null,vd={personal:{label:"Personal",component:ao},business_experience:{label:"Business Experience",component:co},technical_skills:{label:"Technical Skills",component:lo},education:{label:"Education",component:uo},projects:{label:"Projects",component:Ed}},bd=({ref:s})=>{const t=Z.useRef(null),[e,n]=Z.useState("personal");Z.useImperativeHandle(s,()=>({openModal:r=>{n(r),t.current&&Ie.getOrCreateInstance(t.current).show()}}),[]);const i=()=>{const r=vd[e].component;return A.jsx(r,{})};return A.jsx("div",{className:"modal fade text-center",id:"gameModal",tabIndex:-1,ref:t,children:A.jsx("div",{className:"modal-dialog modal-xl modal-fullscreen-xxl-down modal-dialog-centered modal-dialog-scrollable "+hs["game-modal-dialog"],children:A.jsxs("div",{className:"modal-content "+hs["game-modal-content"],children:[A.jsx("div",{className:"modal-body "+hs["game-modal-body"],children:i()}),A.jsx("div",{className:"modal-footer "+hs["game-modal-footer"],children:A.jsx("button",{type:"button",className:"btn btn-lg btn-dark","data-bs-dismiss":"modal",children:"Close"})})]})})})},yd={worker:"business_experience",bartender:"technical_skills",sheriff:"education"},Zt={scale:4,moveSpeed:1,fps:120},wd=Z.memo(()=>{const s=Z.useRef(null),t=Z.useRef(null),e=Z.useRef(null),[n,i]=Z.useState(Zt.moveSpeed),[r,a]=Z.useState(Zt.scale),[c,l]=Z.useState(Zt.fps),h=g=>{var y;const m=parseInt(g.target.value);i(m),(y=s.current)==null||y.game.player.movable.setMoveSpeed(m)},u=g=>{var y;const m=parseInt(g.target.value);a(m),(y=s.current)==null||y.game.config.setScale(m)},_=g=>{var y;const m=parseInt(g.target.value);l(m),(y=s.current)==null||y.game.config.setFPS(m)};return Z.useEffect(()=>{const g=y=>{var b;(b=e.current)==null||b.openModal(yd[y])};return(async()=>{if(!t.current)return;const y=await ga(t.current,g);s.current=new _a(y),s.current.initialize(),s.current.start(),s.current.game.player.movable.setMoveSpeed(Zt.moveSpeed),s.current.game.config.setScale(Zt.scale),s.current.game.config.setFPS(Zt.fps)})().then().catch(console.error),()=>{var y;(y=s.current)==null||y.stop()}},[]),A.jsxs(A.Fragment,{children:[A.jsx(bd,{ref:e}),A.jsx("div",{className:ho["game-container"]+" w-100",ref:t}),A.jsx("nav",{className:"navbar navbar-expand-lg",children:A.jsxs("div",{className:"container-fluid",children:[A.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#gamebar","aria-controls":"gamebar","aria-expanded":"false","aria-label":"Toggle Game Bar",children:A.jsx("span",{className:"navbar-toggler-icon"})}),A.jsx("div",{className:"collapse navbar-collapse",children:A.jsxs("ul",{className:"navbar-nav me-auto mb-2",children:[A.jsx("li",{className:"nav-item",children:A.jsxs("div",{className:"input-group p-2",children:[A.jsx("label",{className:"input-group-text",htmlFor:"scale",children:"Scale"}),A.jsx("input",{type:"number",className:"form-control",min:"1",max:"6",value:r,onChange:u})]})}),A.jsx("li",{className:"nav-item",children:A.jsxs("div",{className:"input-group p-2",children:[A.jsx("label",{className:"input-group-text",htmlFor:"speed",children:"Speed"}),A.jsx("input",{type:"number",className:"form-control",min:"1",max:"6",value:n,onChange:h})]})}),A.jsx("li",{className:"nav-item",children:A.jsxs("div",{className:"input-group p-2",children:[A.jsx("label",{className:"input-group-text",htmlFor:"speed",children:"FPS"}),A.jsx("input",{type:"number",disabled:!0,className:"form-control",value:c,onChange:_})]})})]})})]})})]})});wd.displayName="Game";export{wd as default};
