var no=Object.defineProperty;var an=s=>{throw TypeError(s)};var ro=(s,t,e)=>t in s?no(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var f=(s,t,e)=>ro(s,typeof t!="symbol"?t+"":t,e),cn=(s,t,e)=>t.has(s)||an("Cannot "+e);var o=(s,t,e)=>(cn(s,t,"read from private field"),e?e.call(s):t.get(s)),p=(s,t,e)=>t.has(s)?an("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),E=(s,t,e,i)=>(cn(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e);import{l as oo,a as ds,r as Z,j as A,P as ao}from"./index-CrPpEVpL.js";import{B as co,T as lo,E as ho}from"./TechnicalSkills.component-2j6pV-QE.js";const uo={"game-container":"_game-container_d5tj3_1"},fo={label:"up",xOffset:0,yOffset:-1},po={label:"down",xOffset:0,yOffset:1},mo={label:"left",xOffset:-1,yOffset:0},go={label:"right",xOffset:1,yOffset:0},nt=Object.freeze({UP:fo,DOWN:po,LEFT:mo,RIGHT:go});class _o{constructor(){f(this,"moveSpeed",1);f(this,"mapPixPos",{xPix:0,yPix:0});f(this,"setMoveSpeed",t=>{this.moveSpeed=t});f(this,"getMoveSpeed",()=>this.moveSpeed);f(this,"setMapPixPos",(t,e)=>{this.mapPixPos={xPix:t,yPix:e}});f(this,"getMapPixPos",()=>this.mapPixPos);f(this,"move",(t=0,e=0)=>{this.mapPixPos.xPix+=this.moveSpeed*t,this.mapPixPos.yPix+=this.moveSpeed*e})}}const Eo=()=>new _o;var bs;class vo{constructor(){p(this,bs,(t,e)=>!(t.xPix0===t.xPix1||t.yPix0===t.yPix1||e.xPix0===e.xPix1||e.yPix0===e.yPix1||t.xPix0>=e.xPix1||e.xPix0>=t.xPix1||t.yPix0>=e.yPix1||e.yPix0>=t.yPix1));f(this,"checkCollision",(t,e,i,n=1)=>{var h;const r=t.getTileMap("0");if(!r)return!1;const a=e.movable.getMapPixPos(),c=n*e.movable.getMoveSpeed(),{x:l,y:u}=t.helper.pixToTile(a.xPix,a.yPix);for(let _=l-3;_<=l+3;_++)for(let g=u-3;g<=u+3;g++)for(const m of r.layers){const y=t.helper.tileToIndex(_,g);if(((h=m.data[y])==null?void 0:h.toString())!=="0"){const b=e.getRect(),T=t.helper.getTileRect(_,g);if(b.xPix0+=c*i.xOffset,b.xPix1+=c*i.xOffset,b.yPix0+=c*i.yOffset,b.yPix1+=c*i.yOffset,o(this,bs).call(this,b,T))return!0}}return!1})}}bs=new WeakMap;const bo=()=>new vo;var ne,re,oe,ys,ws;class yo{constructor(t){p(this,ne);p(this,re);p(this,oe);p(this,ys,t=>{var e,i;for(const n of t.inputs)((i=(e=o(this,ne))==null?void 0:e.getKeys()[n])==null?void 0:i.pressed)===!0&&t.callback(n,"keyboard")});p(this,ws,t=>{var e,i;for(const n of t.inputs)((i=(e=o(this,re))==null?void 0:e.getTouches()[n])==null?void 0:i.active)===!0&&t.callback(n,"touchscreen")});f(this,"addObserver",t=>{switch(t.type){case"keyboard":{if(!o(this,ne))throw new Error("GameControls::addObserver:: keyboard is not defined");break}case"touchscreen":{if(!o(this,re))throw new Error("GameControls::addObserver:: touchscreen is not defined");break}}o(this,oe).push(t)});f(this,"step",()=>{for(const t of o(this,oe))switch(t.type){case"keyboard":{o(this,ys).call(this,t);break}case"touchscreen":{o(this,ws).call(this,t);break}}});E(this,oe,[]),E(this,ne,t.keyboard),E(this,re,t.touchscreen)}}ne=new WeakMap,re=new WeakMap,oe=new WeakMap,ys=new WeakMap,ws=new WeakMap;const wo=(s,t)=>new yo({keyboard:s,touchscreen:t});var st,Ts,xs,As;class To{constructor(t){p(this,st);p(this,Ts,t=>{for(const e of t)o(this,st)[e]={pressed:!1}});p(this,xs,()=>{window.addEventListener("keydown",t=>{Object.prototype.hasOwnProperty.call(o(this,st),t.key)&&(o(this,st)[t.key].pressed=!0)})});p(this,As,()=>{window.addEventListener("keyup",t=>{Object.prototype.hasOwnProperty.call(o(this,st),t.key)&&(o(this,st)[t.key].pressed=!1)})});f(this,"getKeys",()=>o(this,st));E(this,st,{}),o(this,Ts).call(this,t),o(this,xs).call(this),o(this,As).call(this)}}st=new WeakMap,Ts=new WeakMap,xs=new WeakMap,As=new WeakMap;const xo=s=>{if(!Array.isArray(s))throw new Error("createKeyboard:: keys must be an array");if(s.length===0)throw new Error("createKeyboard:: keys must not be empty");return new To(s)};var it,$t,$e,Cs,Ss,Os;class Ao{constructor(t){p(this,it);p(this,$t,()=>{for(const t in nt){const e=t;o(this,it)[nt[e].label]={active:!1}}});p(this,$e,(t,e,i)=>{e>t.width*.75&&(o(this,it)[nt.RIGHT.label].active=!0),e<t.width*.25&&(o(this,it)[nt.LEFT.label].active=!0),i>t.width*.75&&(o(this,it)[nt.DOWN.label].active=!0),i<t.width*.25&&(o(this,it)[nt.UP.label].active=!0)});p(this,Cs,t=>{t.addEventListener("touchstart",e=>{if(e.preventDefault(),e.target===t){o(this,$t).call(this);const{clientX:i,clientY:n}=e.touches[0];o(this,$e).call(this,t,i,n)}})});p(this,Ss,t=>{t.addEventListener("touchend",e=>{e.preventDefault(),o(this,$t).call(this)})});p(this,Os,t=>{t.addEventListener("touchmove",e=>{if(e.preventDefault(),e.target===t){o(this,$t).call(this);const{clientX:i,clientY:n}=e.touches[0];o(this,$e).call(this,t,i,n)}})});f(this,"getTouches",()=>o(this,it));E(this,it,{}),o(this,$t).call(this),o(this,Cs).call(this,t),o(this,Ss).call(this,t),o(this,Os).call(this,t)}}it=new WeakMap,$t=new WeakMap,$e=new WeakMap,Cs=new WeakMap,Ss=new WeakMap,Os=new WeakMap;const Co=s=>{if(!(s instanceof HTMLCanvasElement))throw new Error("createTouchscreen:: canvas must be an instance of HTMLCanvasElement");return new Ao(s)};var ae,ce;class So{constructor(t){p(this,ae);p(this,ce);f(this,"check",t=>{const e=t-o(this,ce);return e>=o(this,ae)?(E(this,ce,t-e%o(this,ae)),!0):!1});E(this,ae,t===0?1:1e3/t),E(this,ce,window.performance.now())}}ae=new WeakMap,ce=new WeakMap;const Oo=s=>{if(!Number.isInteger(s))throw new Error("createFPSController:: fps must be an integer");if(s<1)throw new Error("createFPSController:: fps must be postive");return new So(s)};var Me,Re;class No{constructor(t=10){p(this,Me);p(this,Re,0);f(this,"start",t=>{this.stop(),E(this,Re,window.setInterval(t,o(this,Me)))});f(this,"stop",()=>{window.clearInterval(o(this,Re))});E(this,Me,t)}}Me=new WeakMap,Re=new WeakMap;const Po=(s=10)=>{if(!Number.isInteger(s))throw new Error("createGameClock:: interval must be an integer");if(s<=9)throw new Error("createGameClock:: interval must be more than 9");return new No(s)};var ke,le,gt,Mt,Rt,Ns,Ve;class Do{constructor(t){p(this,ke);p(this,le);p(this,gt,!1);p(this,Mt);p(this,Rt);p(this,Ns,()=>{o(this,gt)&&o(this,le).start(o(this,Mt))});p(this,Ve,(t=0)=>{o(this,gt)&&(window.requestAnimationFrame(o(this,Ve)),o(this,ke).check(t)&&o(this,Rt).call(this))});f(this,"registerLogicStep",t=>{E(this,Mt,t)});f(this,"registerDrawStep",t=>{E(this,Rt,t)});f(this,"step",()=>{o(this,Mt).call(this),o(this,Rt).call(this)});f(this,"start",()=>{E(this,gt,!0),o(this,Ns).call(this),o(this,Ve).call(this)});f(this,"stop",()=>{E(this,gt,!1),o(this,le).stop()});E(this,gt,!1),E(this,ke,Oo(t.fps)),E(this,le,Po(t.logicInterval)),E(this,Mt,()=>{throw new Error("Register logic step using `registerLogicStep`")}),E(this,Rt,()=>{throw new Error("Register draw step using `registerDrawStep`")})}}ke=new WeakMap,le=new WeakMap,gt=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,Ns=new WeakMap,Ve=new WeakMap;const Lo=(s,t)=>{if(!Number.isInteger(s))throw new Error("createGameCommand:: fps must be an integer");if(s<1)throw new Error("createGameCommand:: fps must be postive");if(!Number.isInteger(t))throw new Error("createGameCommand:: interval must be an integer");return new Do({fps:s,logicInterval:t})};var He,je;class Pi{constructor(){p(this,He,1);p(this,je,120);f(this,"setScale",t=>{E(this,He,t)});f(this,"getScale",()=>o(this,He));f(this,"setFPS",t=>{E(this,je,t)});f(this,"getFPS",()=>o(this,je))}}He=new WeakMap,je=new WeakMap;const Io=()=>new Pi;class Ut{constructor(){f(this,"getSource",t=>(console.log("TileSet::getSource:: ",t),{img:new Image,sx:0,sy:0,sw:0,sh:0}));if(new.target===Ut)throw new Error("TileSet:: TileSet an abstract class.")}}var We;class $o extends Ut{constructor(){super(...arguments);p(this,We,[]);f(this,"addTileSet",e=>{o(this,We).push(e)});f(this,"getSource",e=>o(this,We).find(n=>{const{startId:r,count:a}=n.getGridConfig();return e<a+r&&e>=r}).getSource(e))}}We=new WeakMap;const Yn=()=>new $o,Un=(s,t)=>[Math.floor(s/t),s%t];var Be,kt,_t;class Mo extends Ut{constructor(e){super();p(this,Be);p(this,kt);p(this,_t);f(this,"getSource",e=>{const[i,n]=Un(e-o(this,kt).startId,o(this,kt).xMax),r=n*o(this,_t).xPix,a=i*o(this,_t).yPix,c=o(this,_t).xPix,l=o(this,_t).yPix;return{img:o(this,Be),sx:r,sy:a,sw:c,sh:l}});E(this,Be,e.image),E(this,kt,e.gridConfig),E(this,_t,e.modelConfig)}getGridConfig(){return o(this,kt)}}Be=new WeakMap,kt=new WeakMap,_t=new WeakMap;const Ro=(s,t,e)=>{if(!(s instanceof HTMLImageElement))throw new Error("createBasicTileSet:: image must be an instance of HTMLImageElement");if(!Number.isInteger(t.xMax)||!Number.isInteger(t.count)||!Number.isInteger(t.startId))throw new Error("createBasicTileSet:: gridConfig must be of type GridConfig");if(!Number.isInteger(e.xPix)||!Number.isInteger(e.yPix))throw new Error("createBasicTileSet:: modelConfig must be of type ModelConfig");return new Mo({image:s,gridConfig:t,modelConfig:e})},oi={border:"2px solid gray",display:"block",pad:10};var Ps,Ds;class Di{constructor(t){f(this,"element");f(this,"context");f(this,"center");p(this,Ps,(t,e)=>{t.width=e.clientWidth,t.height=e.clientHeight,t.style.border=oi.border,t.style.display=oi.display,t.style.margin=(oi.pad/2).toString()+"px auto",t.style.imageRendering="pixelated"});p(this,Ds,(t,e)=>{e.append(t);const i=t.getContext("2d",{alpha:!1});if(!(i instanceof CanvasRenderingContext2D))throw new Error("GameCanvas::#initCanvas:: CanvasRenderingContext2D not supported");return i.imageSmoothingEnabled=!1,i});const e=document.createElement("canvas");o(this,Ps).call(this,e,t),this.context=o(this,Ds).call(this,e,t),this.element=e,this.center={xPix:this.element.width/2,yPix:this.element.height/2}}}Ps=new WeakMap,Ds=new WeakMap;const ko=s=>{if(!(s instanceof HTMLElement))throw new Error("createGameCanvas:: container must be an instance of HTMLDivElement");return new Di(s)};var I;class Vo{constructor(t){p(this,I);f(this,"saveContext",()=>{o(this,I).context&&o(this,I).context.save()});f(this,"restoreContext",()=>{o(this,I).context&&o(this,I).context.restore()});f(this,"setScale",t=>{o(this,I).context&&o(this,I).context.scale(t,t)});f(this,"configureStyle",t=>{if(o(this,I).context)for(const e of Object.keys(t))o(this,I).context[e]=t[e]});f(this,"getWrappedText",(t,e)=>{if(!o(this,I).context)return null;let i=0;const n=[],r=t.split(`
`);for(const a of r){let c="";const l=a.split(" ");for(let u=0;u<l.length;u++){const h=o(this,I).context.measureText(c+l[u]+" ");h.width>e?(n.push(c),c=l[u]+" "):c+=l[u]+" ",u===l.length-1&&n.push(c),h.fontBoundingBoxAscent+h.fontBoundingBoxDescent>i&&(i=Math.ceil(h.fontBoundingBoxAscent+h.fontBoundingBoxDescent))}}return{wrappedText:n,width:e,height:i}});f(this,"drawText",(t,e,i)=>{o(this,I).context&&o(this,I).context.fillText(t,e,i)});f(this,"drawPath",(t,e=!0)=>{o(this,I).context&&(e&&o(this,I).context.fill(t),o(this,I).context.stroke(t))});E(this,I,t)}}I=new WeakMap;const Ho=s=>{if(!(s instanceof Di))throw new Error("createBaseRenderer:: canvas must be an instance of GameCanvas");return new Vo(s)};var Fe;class zn{constructor(){p(this,Fe,{xPix:0,yPix:0});f(this,"setMapOffset",t=>{E(this,Fe,t)});f(this,"getMapOffset",()=>o(this,Fe))}}Fe=new WeakMap;const jo=()=>new zn;class Wo{constructor(t,e){f(this,"element");f(this,"context");this.element=new OffscreenCanvas(t,e);const i=this.element.getContext("2d",{alpha:!0});if(!i)throw new Error("GameOffscreenCanvas:: failed to get 2D context");this.context=i}}const Bo=(s,t)=>{if(!Number.isInteger(s))throw new Error("createGameOffscreenCanvas:: width must be an integer");if(s<1)throw new Error("createGameOffscreenCanvas:: width must be postive");if(!Number.isInteger(t))throw new Error("createGameOffscreenCanvas:: height must be an integer");if(t<1)throw new Error("createGameOffscreenCanvas:: height must be postive");return new Wo(s,t)};var ct,x,Vt;class Fo{constructor(t){p(this,ct);p(this,x);p(this,Vt);f(this,"saveContext",()=>{o(this,x).context&&o(this,x).context.save()});f(this,"restoreContext",()=>{o(this,x).context&&o(this,x).context.restore()});f(this,"setScale",t=>{o(this,x).context&&o(this,x).context.scale(t,t)});f(this,"clearCanvas",()=>{o(this,x).context&&(o(this,x).context.fillStyle="#6c757d",o(this,x).context.fillRect(0,0,o(this,x).element.width,o(this,x).element.height))});f(this,"globalTranslate",()=>{o(this,x).context&&(o(this,x).context.translate(o(this,x).center.xPix,o(this,x).center.yPix),this.setScale(o(this,ct).getScale()),o(this,x).context.translate(-o(this,Vt).getMapOffset().xPix,-o(this,Vt).getMapOffset().yPix))});f(this,"getCurrentViewport",()=>{const t=o(this,Vt).getMapOffset(),e=t.xPix-o(this,x).center.xPix/o(this,ct).getScale(),i=t.yPix-o(this,x).center.yPix/o(this,ct).getScale(),n=t.xPix+o(this,x).center.xPix/o(this,ct).getScale(),r=t.yPix+o(this,x).center.yPix/o(this,ct).getScale();return{xPix0:e,yPix0:i,xPix1:n,yPix1:r}});f(this,"drawDebugGrid",t=>{o(this,x).context&&(o(this,x).context.beginPath(),o(this,x).context.strokeStyle="#f00",o(this,x).context.lineWidth=1,o(this,x).context.strokeRect(t.dx,t.dy,t.dw,t.dh))});f(this,"drawImage",(t,e=!1)=>{o(this,x).context&&(o(this,x).context.drawImage(t.img,t.sx,t.sy,t.sw,t.sh,t.dx,t.dy,t.dw,t.dh),e&&this.drawDebugGrid(t))});E(this,ct,t.config),E(this,x,t.canvas),E(this,Vt,t.camera)}}ct=new WeakMap,x=new WeakMap,Vt=new WeakMap;const Ko=(s,t,e)=>{if(!(s instanceof Pi))throw new Error("createMapRenderer:: config must be an instance of GameConfig");if(!(t instanceof Di))throw new Error("createMapRenderer:: canvas must be an instance of GameCanvas");if(!(e instanceof zn))throw new Error("createMapRenderer:: camera must be an instance of Camera");return new Fo({config:s,canvas:t,camera:e})};class Go{constructor(){f(this,"drawDebugGrid",(t,e)=>{t.context.beginPath(),t.context.strokeStyle="#f00",t.context.lineWidth=1,t.context.strokeRect(e.dx,e.dy,e.dw,e.dh)});f(this,"drawImage",(t,e,i=!1)=>{t.context.drawImage(e.img,e.sx,e.sy,e.sw,e.sh,e.dx,e.dy,e.dw,e.dh),i&&this.drawDebugGrid(t,e)})}}const Yo=()=>new Go;var he,Et,Ht,jt;class Uo{constructor(t){p(this,he);p(this,Et);p(this,Ht);p(this,jt);f(this,"setAnimationDelay",t=>{E(this,Et,t)});f(this,"getAnimationDelay",()=>o(this,Et));E(this,he,t.animations),E(this,jt,Object.keys(t.animations)[0]),E(this,Ht,0),E(this,Et,t.animationDelay)}animate(t=null){t!=null&&E(this,jt,t);const e=o(this,he)[o(this,jt)].length;E(this,Ht,(o(this,Ht)+1)%(e*o(this,Et)))}getGid(){const t=Math.floor(o(this,Ht)/o(this,Et));return o(this,he)[o(this,jt)][t]??0}}he=new WeakMap,Et=new WeakMap,Ht=new WeakMap,jt=new WeakMap;const zo=(s,t=10)=>{for(const e in s)if(typeof e!="string"||!Array.isArray(s[e]))throw new Error("createAnimatedSpriteActor:: animations is not a valid object");if(!Number.isInteger(t))throw new Error("createAnimatedSpriteActor:: animationDelay must be an integer");if(t<=9)throw new Error("createAnimatedSpriteActor:: animationDelay must be more than 9");return new Uo({animations:s,animationDelay:t})};var Ke,Y;class qo{constructor(t){f(this,"animation");f(this,"movable");p(this,Ke);p(this,Y);f(this,"getRect",()=>({xPix0:this.movable.mapPixPos.xPix-o(this,Y).xPix/2,yPix0:this.movable.mapPixPos.yPix-o(this,Y).yPix/2,xPix1:this.movable.mapPixPos.xPix+o(this,Y).xPix/2,yPix1:this.movable.mapPixPos.yPix+o(this,Y).yPix/2}));f(this,"draw",(t,e=!1)=>{const i=o(this,Ke).getSource(this.animation.getGid()),n={dx:this.movable.mapPixPos.xPix-o(this,Y).xPix/2,dy:this.movable.mapPixPos.yPix-o(this,Y).yPix/2,dw:o(this,Y).xPix,dh:o(this,Y).yPix};t.drawImage({...i,...n},e)});this.animation=t.animation,E(this,Y,t.modelConfig),this.movable=t.movable,E(this,Ke,t.tileSet)}}Ke=new WeakMap,Y=new WeakMap;const Xo=(s,t,e)=>{if(!Number.isInteger(s.xPix)||!Number.isInteger(s.yPix))throw new Error("createAnimatedSpriteActor:: modelConfig must be of type ModelConfig");for(const r in t)if(typeof r!="string"||!Array.isArray(t[r]))throw new Error("createAnimatedSpriteActor:: animationSprites is not a valid object");if(!(e instanceof Ut))throw new Error("createAnimatedSpriteActor:: tileSet must be an instance of TileSet");const i=Eo(),n=zo(t);return new qo({animation:n,modelConfig:s,movable:i,tileSet:e})},ai={text:{font:"1.2rem Courier New",textAlign:"center",textBaseline:"top",strokeStyle:"#6c757d",fillStyle:"#6c757d"},bubble:{strokeStyle:"#6c757d",fillStyle:"white",lineWidth:3}};var lt,Wt,k,vt,Ls;class Qo{constructor(t){p(this,lt);p(this,Wt);p(this,k);p(this,vt);p(this,Ls,(t,e,i,n)=>{const r=t-i/2,a=t+i/2,c=e-n-o(this,Wt)*2-o(this,vt),l=e-o(this,vt),u=new Path2D;return u.moveTo(r+o(this,k),c),u.moveTo(r+o(this,k),c),u.lineTo(a-o(this,k),c),u.quadraticCurveTo(a,c,a,c+o(this,k)),u.lineTo(a,l-o(this,k)),u.quadraticCurveTo(a,l,a-o(this,k),l),u.lineTo(r+i/2+o(this,k),l),u.lineTo(r+i/2,l+o(this,vt)),u.lineTo(r+i/2-o(this,k),l),u.lineTo(r+o(this,k),l),u.quadraticCurveTo(r,l,r,l-o(this,k)),u.lineTo(r,c+o(this,k)),u.quadraticCurveTo(r,c,r+o(this,k),c),u});f(this,"drawUp",(t,e,i,n,r=300)=>{t.saveContext(),t.setScale(1/o(this,lt).getScale()),t.configureStyle(ai.text);const a=t.getWrappedText(e,r-o(this,Wt)*2);t.configureStyle(ai.bubble);const c=o(this,Ls).call(this,i*o(this,lt).getScale(),n*o(this,lt).getScale(),r,a.height*a.wrappedText.length);t.drawPath(c),t.configureStyle(ai.text);const l=a.height*a.wrappedText.length+o(this,Wt)+o(this,vt);for(let u=0;u<a.wrappedText.length;u++)t.drawText(a.wrappedText[u],i*o(this,lt).getScale(),n*o(this,lt).getScale()-l+a.height*u);t.restoreContext()});E(this,lt,t),E(this,Wt,20),E(this,k,10),E(this,vt,10)}}lt=new WeakMap,Wt=new WeakMap,k=new WeakMap,vt=new WeakMap,Ls=new WeakMap;const Jo=s=>{if(!(s instanceof Pi))throw new Error("createSpeechBubble:: gameConfig must be an instance of GameConfig");return new Qo(s)};class Li{constructor(t){f(this,"modelConfig");f(this,"worldConfig");f(this,"getMaxPix",()=>({xPix:this.worldConfig.xMax*this.modelConfig.xPix,yPix:this.worldConfig.count/this.worldConfig.xMax*this.modelConfig.yPix}));f(this,"getTileRect",(t,e)=>({xPix0:t*this.modelConfig.xPix,yPix0:e*this.modelConfig.yPix,xPix1:t*this.modelConfig.xPix+this.modelConfig.xPix,yPix1:e*this.modelConfig.yPix+this.modelConfig.xPix}));f(this,"indexToTile",t=>{const[e,i]=Un(t,this.worldConfig.xMax);return{x:i,y:e}});f(this,"tileToIndex",(t,e)=>e*this.worldConfig.xMax+t);f(this,"tileToPix",(t,e)=>({xPix:t*this.modelConfig.xPix+this.modelConfig.xPix/2,yPix:e*this.modelConfig.yPix+this.modelConfig.yPix/2}));f(this,"pixToTile",(t,e)=>({x:Math.floor(t/this.modelConfig.xPix),y:Math.floor(e/this.modelConfig.yPix)}));this.modelConfig=t.modelConfig,this.worldConfig=t.worldConfig}}const Zo=(s,t)=>{if(!Number.isInteger(t.xMax)||!Number.isInteger(t.count)||!Number.isInteger(t.startId))throw new Error("createLevelHelper:: worldConfig must be of type GridConfig");if(!Number.isInteger(s.xPix)||!Number.isInteger(s.yPix))throw new Error("createLevelHelper:: modelConfig must be of type ModelConfig");return new Li({modelConfig:s,worldConfig:t})};class Ue{constructor(){f(this,"drawTileMap",t=>{console.log("TileMap:: drawTileMap",t)});if(new.target===Ue)throw new Error("TileMap:: TileMap an abstract class.")}}var ue,de;class ta{constructor(t){p(this,ue);p(this,de);f(this,"helper");f(this,"getTileMap",t=>o(this,ue)[t]);f(this,"getTileSet",()=>o(this,de));f(this,"drawTileMap",(t,e,i=!1)=>{o(this,ue)[e].drawTileMap({renderer:t,helper:this.helper,tileSet:o(this,de),isDebug:i})});E(this,ue,t.tileMaps),E(this,de,t.tileSet),this.helper=t.helper}}ue=new WeakMap,de=new WeakMap;const ea=(s,t,e)=>{if(!(s instanceof Li))throw new Error("createLevel:: helper must be an instance of LevelHelper");if(!(e instanceof Ut))throw new Error("createLevel:: tileSet must be an instance of TileSet");for(const i in t)if(typeof i!="string"||!(t[i]instanceof Ue))throw new Error("createAnimatedSpriteActor:: animations is not a valid object");return new ta({helper:s,tileSet:e,tileMaps:t})};var Is,$s;class sa extends Ue{constructor(e){super();f(this,"layers",[]);p(this,Is,e=>{this.layers.push({id:e.id,name:e.name,visible:e.visible,opacity:e.opacity,data:e.data})});p(this,$s,e=>{if(e.gid===0)return;const i=e.tileSet.getSource(e.gid),n={dx:e.x*e.helper.modelConfig.xPix,dy:e.y*e.helper.modelConfig.yPix,dw:e.helper.modelConfig.xPix,dh:e.helper.modelConfig.yPix};e.renderer.drawImage({...i,...n},e.isDebug)});f(this,"drawTileMap",e=>{const i=e.renderer.getCurrentViewport(),n=e.helper.pixToTile(i.xPix0,i.yPix0),r=e.helper.pixToTile(i.xPix1,i.yPix1),a=Math.max(0,n.x-1),c=Math.max(0,n.y-1),l=Math.min(e.helper.worldConfig.xMax,r.x+1),u=Math.min(e.helper.worldConfig.count/e.helper.worldConfig.xMax,r.y+1);for(const h of this.layers)for(let _=a;_<l;_++)for(let g=c;g<u;g++){const m=e.helper.tileToIndex(_,g);h.data[m]!==0&&o(this,$s).call(this,{renderer:e.renderer,helper:e.helper,tileSet:e.tileSet,gid:h.data[m],x:_,y:g,isDebug:e.isDebug})}});for(const i of e)o(this,Is).call(this,i)}}Is=new WeakMap,$s=new WeakMap;const ia=s=>{for(const t of s){if(typeof t.id!="string"&&typeof t.id!="number"||typeof t.name!="string"||typeof t.visible!="boolean"||typeof t.opacity!="number")throw new Error("createAnimatedSpriteActor:: layers must be of type TileLayer[]");for(const e of t.data)if(!Number.isInteger(e))throw new Error("createAnimatedSpriteActor:: layers must be of type TileLayer[]")}return new sa(s)};var tt,Ms,Rs,ks;class na extends Ue{constructor(e){super();p(this,tt);f(this,"layers",[]);p(this,Ms,e=>{this.layers.push({id:e.id,name:e.name,visible:e.visible,opacity:e.opacity,data:e.data})});p(this,Rs,e=>{if(e.gid===0)return;const i=e.tileSet.getSource(e.gid),n={dx:e.x*e.helper.modelConfig.xPix,dy:e.y*e.helper.modelConfig.yPix,dw:e.helper.modelConfig.xPix,dh:e.helper.modelConfig.yPix};e.renderer.drawImage(o(this,tt),{...i,...n},e.isDebug)});p(this,ks,(e,i,n,r)=>{for(const a of this.layers)o(this,tt).context.save(),o(this,tt).context.globalAlpha=a.opacity,a.data.forEach((c,l)=>{const{x:u,y:h}=i.indexToTile(l);o(this,Rs).call(this,{renderer:e,helper:i,tileSet:n,gid:c,x:u,y:h,isDebug:r})}),o(this,tt).context.restore()});f(this,"drawTileMap",e=>{const i=e.renderer.getCurrentViewport(),n=Math.max(0,i.xPix0),r=Math.max(0,i.yPix0),a=Math.min(o(this,tt).element.width,i.xPix1),c=Math.min(o(this,tt).element.height,i.yPix1);e.renderer.drawImage({img:o(this,tt).element,sx:n,sy:r,sw:a-n,sh:c-r,dx:n,dy:r,dw:a-n,dh:c-r},!1)});for(const a of e.layers)o(this,Ms).call(this,a);const i=Yo(),n=e.helper.worldConfig.xMax*e.helper.modelConfig.xPix,r=e.helper.worldConfig.count/e.helper.worldConfig.xMax*e.helper.modelConfig.yPix;E(this,tt,Bo(n,r)),o(this,ks).call(this,i,e.helper,e.tileSet,e.isDebug)}}tt=new WeakMap,Ms=new WeakMap,Rs=new WeakMap,ks=new WeakMap;const ra=(s,t,e,i=!1)=>{if(!(s instanceof Li))throw new Error("createOffscreenTileMap:: helper must be an instance of LevelHelper");if(!(t instanceof Ut))throw new Error("createOffscreenTileMap:: tileSet must be an instance of TileSet");for(const n of e){if(!(typeof n.id!="string"||typeof n.id!="number")||typeof n.name!="string"||typeof n.visible!="boolean"||typeof n.opacity!="number")throw new Error("createOffscreenTileMap:: layer must be of type TileLayer");for(const r of n.data)if(!Number.isInteger(r))throw new Error("createOffscreenTileMap:: layers must be of type TileLayer[]")}return new na({helper:s,tileSet:t,layers:e,isDebug:i})},oa=async s=>{const t="/assets/"+s.gameName+"/tilesets/"+s.folderName+"/"+s.fileName+".tileset.png",e=new URL(t,import.meta.url).href,i=await oo(e),n=await ds("/assets/"+s.gameName+"/tilesets/"+s.folderName+"/"+s.fileName+".tileset.json"),r={xMax:n.columns,count:n.tilecount,startId:s.startId},a={xPix:n.tilewidth,yPix:n.tileheight};return Ro(i,r,a)},qn={create:oa},aa=async(s,t,e)=>{for(const i of e){const n=await qn.create({gameName:s,folderName:i.folderName,fileName:i.fileName,startId:i.firstgid});t.addTileSet(n)}},ca=async s=>{const t={xPix:s.xPix,yPix:s.yPix},e=Yn();return await aa(s.gameName,e,s.tilesets),Xo(t,s.sprites,e)},ln={create:ca},la=(s,t)=>{var n;const e=(n=t.properties)==null?void 0:n.find(r=>r.name==="zIndex"),i=e?e.value:-1;Object.hasOwn(s,i)?s[i].layers.push(t):s[i]={zIndex:i,layers:[t]}},Xn=(s,t)=>{for(const e of t)switch(e.type){case"group":{Xn(s,e.layers);break}case"tilelayer":{la(s,e);break}}return s},ha=s=>Xn({},s),ua=async(s,t,e)=>{for(const i of e){const n=i.name.split(".")[0],r=await qn.create({gameName:s,folderName:n,fileName:n,startId:i.firstgid});t.addTileSet(r)}},da=async s=>{const t=s.xMax,e=s.yMax,i={xPix:s.tileWidth,yPix:s.tileHeight},n={xMax:t,count:t*e,startId:0},r=Zo(i,n),a=Yn();await ua(s.gameName,a,s.tilesets);const c=ha(s.layers),l={};for(const u in c){const h=c[u].layers,_=s.isLive===!0?ia(h):ra(r,a,h);l[u]=_}return ea(r,l,a)},fa={create:da};var fe,bt,Ge,pe,Bt,me;class pa{constructor(t,e,i,n=null){p(this,fe);p(this,bt);p(this,Ge);p(this,pe);p(this,Bt);p(this,me);f(this,"setInteractHandler",t=>{E(this,me,t)});f(this,"interact",()=>{o(this,Bt)&&o(this,me).call(this,o(this,fe))});f(this,"updateIsNearby",(t,e=50)=>{const{xPix:i,yPix:n}=o(this,bt).movable.getMapPixPos();E(this,Bt,i>t.xPix-e&&i<t.xPix+e&&n>t.yPix-e&&n<t.yPix+e)});f(this,"drawSpeechBubble",t=>{if(o(this,Bt)&&o(this,pe)){const{xPix:e}=o(this,bt).movable.getMapPixPos(),{yPix0:i}=o(this,bt).getRect();o(this,Ge).drawUp(t,o(this,pe),e,i)}});E(this,fe,t),E(this,bt,e),E(this,Bt,!1),E(this,Ge,i),E(this,pe,n),E(this,me,()=>{console.log("Interacted with "+o(this,fe))})}getActor(){return o(this,bt)}}fe=new WeakMap,bt=new WeakMap,Ge=new WeakMap,pe=new WeakMap,Bt=new WeakMap,me=new WeakMap;var Vs,Hs,js,Ws,Bs,Fs,Ks;class ma{constructor(){f(this,"config");f(this,"canvas");f(this,"camera");f(this,"level");f(this,"controls");f(this,"baseRenderer");f(this,"mapRenderer");f(this,"collisionDetector");f(this,"player");f(this,"npcs");p(this,Vs,t=>{t.innerHTML="",this.config=Io(),this.canvas=ko(t),this.camera=jo()});p(this,Hs,()=>{this.mapRenderer=Ko(this.config,this.canvas,this.camera),this.baseRenderer=Ho(this.canvas)});p(this,js,()=>{const t=xo(["w","a","s","d","e"]),e=Co(this.canvas.element);this.controls=wo(t,e)});p(this,Ws,async()=>{const t=await ds("/assets/wildWest/tilemaps/main/main.tilemap.json");this.level=await fa.create({gameName:"wildWest",xMax:t.width,yMax:t.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,tilesets:t.tilesets,layers:t.layers}),this.collisionDetector=bo()});p(this,Bs,async()=>{const t=await ds("/assets/wildWest/actors/player.config.json");this.player=await ln.create({gameName:"wildWest",tilesets:t.tilesets,xPix:t.tilewidth,yPix:t.tileheight,sprites:t.sprites});const e=this.level.helper.tileToPix(t.start.x,t.start.y);this.player.movable.setMapPixPos(e.xPix,e.yPix),this.camera.setMapOffset(this.player.movable.getMapPixPos())});p(this,Fs,async(t=e=>{console.log("WildWestGame::#createNPCs::interactHandler",e)})=>{this.npcs=[];const e=Jo(this.config),i=["traveller","worker","bartender","sheriff"];for(const n of i){const r=await ds("/assets/wildWest/actors/"+n+".config.json"),a=await ln.create({gameName:"wildWest",tilesets:r.tilesets,xPix:r.tilewidth,yPix:r.tileheight,sprites:r.sprites}),c=this.level.helper.tileToPix(r.start.x,r.start.y);a.movable.setMapPixPos(c.xPix,c.yPix);const l=new pa(n,a,e,r.dialogue);l.setInteractHandler(t),this.npcs.push(l)}});p(this,Ks,()=>{var t,e;(t=document.getElementById("scale"))==null||t.addEventListener("change",i=>{const n=parseInt(i.target.value);this.config.setScale(n)}),(e=document.getElementById("speed"))==null||e.addEventListener("change",i=>{const n=parseInt(i.target.value);this.player.movable.setMoveSpeed(n)})});f(this,"initialize",async t=>{o(this,Vs).call(this,t.container),o(this,Hs).call(this),o(this,js).call(this),await o(this,Ws).call(this),await o(this,Bs).call(this),await o(this,Fs).call(this,t.interactHandler),o(this,Ks).call(this)})}}Vs=new WeakMap,Hs=new WeakMap,js=new WeakMap,Ws=new WeakMap,Bs=new WeakMap,Fs=new WeakMap,Ks=new WeakMap;const ga=async(s,t)=>{if(!s)throw new Error("createWildWestGame::container is null");if(!t)throw new Error("createWildWestGame::interactHandler is null");const e=new ma;return await e.initialize({container:s,interactHandler:t}),e};var Ft,Ye,Gs,Ys,Us;class _a{constructor(t){f(this,"command");f(this,"game");p(this,Ft,t=>{const e=this.game.collisionDetector.checkCollision(this.game.level,this.game.player,t,1);this.game.player.animation.animate(t.label),e||(this.game.player.movable.move(t.xOffset,t.yOffset),this.game.camera.setMapOffset(this.game.player.movable.getMapPixPos()))});p(this,Ye,(t,e)=>{switch(!0){case(t==="w"&&e==="keyboard"||t==="up"&&e==="touchscreen"):{o(this,Ft).call(this,nt.UP);break}case(t==="a"&&e==="keyboard"||t==="left"&&e==="touchscreen"):{o(this,Ft).call(this,nt.LEFT);break}case(t==="s"&&e==="keyboard"||t==="down"&&e==="touchscreen"):{o(this,Ft).call(this,nt.DOWN);break}case(t==="d"&&e==="keyboard"||t==="right"&&e==="touchscreen"):{o(this,Ft).call(this,nt.RIGHT);break}}});p(this,Gs,()=>{for(const t of this.game.npcs)t.interact()});p(this,Ys,()=>{this.game.controls.step();for(const t of this.game.npcs)t.getActor().animation.animate(),t.updateIsNearby(this.game.player.movable.getMapPixPos(),50)});p(this,Us,()=>{this.game.mapRenderer.saveContext(),this.game.mapRenderer.clearCanvas(),this.game.mapRenderer.globalTranslate(),this.game.level.drawTileMap(this.game.mapRenderer,"-1");for(const t of this.game.npcs)t.getActor().draw(this.game.mapRenderer);this.game.player.draw(this.game.mapRenderer),this.game.level.drawTileMap(this.game.mapRenderer,"1");for(const t of this.game.npcs)t.drawSpeechBubble(this.game.baseRenderer);this.game.mapRenderer.restoreContext()});f(this,"initialize",()=>{this.game.controls.addObserver({type:"keyboard",inputs:["w","a","s","d"],callback:o(this,Ye)}),this.game.controls.addObserver({type:"touchscreen",inputs:["up","down","left","right"],callback:o(this,Ye)}),this.game.controls.addObserver({type:"keyboard",inputs:["e"],callback:o(this,Gs)}),this.command.registerDrawStep(o(this,Us)),this.command.registerLogicStep(o(this,Ys))});f(this,"start",()=>{this.command.start()});f(this,"step",()=>{this.command.step()});f(this,"stop",()=>{this.command.stop()});this.game=t,this.command=Lo(t.config.getFPS(),10)}}Ft=new WeakMap,Ye=new WeakMap,Gs=new WeakMap,Ys=new WeakMap,Us=new WeakMap;var H="top",F="bottom",K="right",j="left",zs="auto",we=[H,F,K,j],Gt="start",ge="end",Qn="clippingParents",Ii="viewport",te="popper",Jn="reference",Ti=we.reduce(function(s,t){return s.concat([t+"-"+Gt,t+"-"+ge])},[]),$i=[].concat(we,[zs]).reduce(function(s,t){return s.concat([t,t+"-"+Gt,t+"-"+ge])},[]),Zn="beforeRead",tr="read",er="afterRead",sr="beforeMain",ir="main",nr="afterMain",rr="beforeWrite",or="write",ar="afterWrite",cr=[Zn,tr,er,sr,ir,nr,rr,or,ar];function at(s){return s?(s.nodeName||"").toLowerCase():null}function G(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var t=s.ownerDocument;return t&&t.defaultView||window}return s}function Yt(s){var t=G(s).Element;return s instanceof t||s instanceof Element}function U(s){var t=G(s).HTMLElement;return s instanceof t||s instanceof HTMLElement}function Mi(s){if(typeof ShadowRoot>"u")return!1;var t=G(s).ShadowRoot;return s instanceof t||s instanceof ShadowRoot}function Ea(s){var t=s.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},r=t.elements[e];!U(r)||!at(r)||(Object.assign(r.style,i),Object.keys(n).forEach(function(a){var c=n[a];c===!1?r.removeAttribute(a):r.setAttribute(a,c===!0?"":c)}))})}function va(s){var t=s.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var n=t.elements[i],r=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),c=a.reduce(function(l,u){return l[u]="",l},{});!U(n)||!at(n)||(Object.assign(n.style,c),Object.keys(r).forEach(function(l){n.removeAttribute(l)}))})}}const Ri={name:"applyStyles",enabled:!0,phase:"write",fn:Ea,effect:va,requires:["computeStyles"]};function rt(s){return s.split("-")[0]}var Kt=Math.max,gs=Math.min,_e=Math.round;function xi(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function lr(){return!/^((?!chrome|android).)*safari/i.test(xi())}function Ee(s,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=s.getBoundingClientRect(),n=1,r=1;t&&U(s)&&(n=s.offsetWidth>0&&_e(i.width)/s.offsetWidth||1,r=s.offsetHeight>0&&_e(i.height)/s.offsetHeight||1);var a=Yt(s)?G(s):window,c=a.visualViewport,l=!lr()&&e,u=(i.left+(l&&c?c.offsetLeft:0))/n,h=(i.top+(l&&c?c.offsetTop:0))/r,_=i.width/n,g=i.height/r;return{width:_,height:g,top:h,right:u+_,bottom:h+g,left:u,x:u,y:h}}function ki(s){var t=Ee(s),e=s.offsetWidth,i=s.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:s.offsetLeft,y:s.offsetTop,width:e,height:i}}function hr(s,t){var e=t.getRootNode&&t.getRootNode();if(s.contains(t))return!0;if(e&&Mi(e)){var i=t;do{if(i&&s.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function dt(s){return G(s).getComputedStyle(s)}function ba(s){return["table","td","th"].indexOf(at(s))>=0}function xt(s){return((Yt(s)?s.ownerDocument:s.document)||window.document).documentElement}function qs(s){return at(s)==="html"?s:s.assignedSlot||s.parentNode||(Mi(s)?s.host:null)||xt(s)}function hn(s){return!U(s)||dt(s).position==="fixed"?null:s.offsetParent}function ya(s){var t=/firefox/i.test(xi()),e=/Trident/i.test(xi());if(e&&U(s)){var i=dt(s);if(i.position==="fixed")return null}var n=qs(s);for(Mi(n)&&(n=n.host);U(n)&&["html","body"].indexOf(at(n))<0;){var r=dt(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function ze(s){for(var t=G(s),e=hn(s);e&&ba(e)&&dt(e).position==="static";)e=hn(e);return e&&(at(e)==="html"||at(e)==="body"&&dt(e).position==="static")?t:e||ya(s)||t}function Vi(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function Pe(s,t,e){return Kt(s,gs(t,e))}function wa(s,t,e){var i=Pe(s,t,e);return i>e?e:i}function ur(){return{top:0,right:0,bottom:0,left:0}}function dr(s){return Object.assign({},ur(),s)}function fr(s,t){return t.reduce(function(e,i){return e[i]=s,e},{})}var Ta=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,dr(typeof t!="number"?t:fr(t,we))};function xa(s){var t,e=s.state,i=s.name,n=s.options,r=e.elements.arrow,a=e.modifiersData.popperOffsets,c=rt(e.placement),l=Vi(c),u=[j,K].indexOf(c)>=0,h=u?"height":"width";if(!(!r||!a)){var _=Ta(n.padding,e),g=ki(r),m=l==="y"?H:j,y=l==="y"?F:K,b=e.rects.reference[h]+e.rects.reference[l]-a[l]-e.rects.popper[h],T=a[l]-e.rects.reference[l],O=ze(r),P=O?l==="y"?O.clientHeight||0:O.clientWidth||0:0,D=b/2-T/2,w=_[m],C=P-g[h]-_[y],S=P/2-g[h]/2+D,N=Pe(w,S,C),M=l;e.modifiersData[i]=(t={},t[M]=N,t.centerOffset=N-S,t)}}function Aa(s){var t=s.state,e=s.options,i=e.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||hr(t.elements.popper,n)&&(t.elements.arrow=n))}const pr={name:"arrow",enabled:!0,phase:"main",fn:xa,effect:Aa,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ve(s){return s.split("-")[1]}var Ca={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sa(s,t){var e=s.x,i=s.y,n=t.devicePixelRatio||1;return{x:_e(e*n)/n||0,y:_e(i*n)/n||0}}function un(s){var t,e=s.popper,i=s.popperRect,n=s.placement,r=s.variation,a=s.offsets,c=s.position,l=s.gpuAcceleration,u=s.adaptive,h=s.roundOffsets,_=s.isFixed,g=a.x,m=g===void 0?0:g,y=a.y,b=y===void 0?0:y,T=typeof h=="function"?h({x:m,y:b}):{x:m,y:b};m=T.x,b=T.y;var O=a.hasOwnProperty("x"),P=a.hasOwnProperty("y"),D=j,w=H,C=window;if(u){var S=ze(e),N="clientHeight",M="clientWidth";if(S===G(e)&&(S=xt(e),dt(S).position!=="static"&&c==="absolute"&&(N="scrollHeight",M="scrollWidth")),S=S,n===H||(n===j||n===K)&&r===ge){w=F;var $=_&&S===C&&C.visualViewport?C.visualViewport.height:S[N];b-=$-i.height,b*=l?1:-1}if(n===j||(n===H||n===F)&&r===ge){D=K;var L=_&&S===C&&C.visualViewport?C.visualViewport.width:S[M];m-=L-i.width,m*=l?1:-1}}var R=Object.assign({position:c},u&&Ca),Q=h===!0?Sa({x:m,y:b},G(e)):{x:m,y:b};if(m=Q.x,b=Q.y,l){var V;return Object.assign({},R,(V={},V[w]=P?"0":"",V[D]=O?"0":"",V.transform=(C.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",V))}return Object.assign({},R,(t={},t[w]=P?b+"px":"",t[D]=O?m+"px":"",t.transform="",t))}function Oa(s){var t=s.state,e=s.options,i=e.gpuAcceleration,n=i===void 0?!0:i,r=e.adaptive,a=r===void 0?!0:r,c=e.roundOffsets,l=c===void 0?!0:c,u={placement:rt(t.placement),variation:ve(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,un(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,un(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Hi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Oa,data:{}};var ns={passive:!0};function Na(s){var t=s.state,e=s.instance,i=s.options,n=i.scroll,r=n===void 0?!0:n,a=i.resize,c=a===void 0?!0:a,l=G(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&u.forEach(function(h){h.addEventListener("scroll",e.update,ns)}),c&&l.addEventListener("resize",e.update,ns),function(){r&&u.forEach(function(h){h.removeEventListener("scroll",e.update,ns)}),c&&l.removeEventListener("resize",e.update,ns)}}const ji={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Na,data:{}};var Pa={left:"right",right:"left",bottom:"top",top:"bottom"};function fs(s){return s.replace(/left|right|bottom|top/g,function(t){return Pa[t]})}var Da={start:"end",end:"start"};function dn(s){return s.replace(/start|end/g,function(t){return Da[t]})}function Wi(s){var t=G(s),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function Bi(s){return Ee(xt(s)).left+Wi(s).scrollLeft}function La(s,t){var e=G(s),i=xt(s),n=e.visualViewport,r=i.clientWidth,a=i.clientHeight,c=0,l=0;if(n){r=n.width,a=n.height;var u=lr();(u||!u&&t==="fixed")&&(c=n.offsetLeft,l=n.offsetTop)}return{width:r,height:a,x:c+Bi(s),y:l}}function Ia(s){var t,e=xt(s),i=Wi(s),n=(t=s.ownerDocument)==null?void 0:t.body,r=Kt(e.scrollWidth,e.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=Kt(e.scrollHeight,e.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),c=-i.scrollLeft+Bi(s),l=-i.scrollTop;return dt(n||e).direction==="rtl"&&(c+=Kt(e.clientWidth,n?n.clientWidth:0)-r),{width:r,height:a,x:c,y:l}}function Fi(s){var t=dt(s),e=t.overflow,i=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+n+i)}function mr(s){return["html","body","#document"].indexOf(at(s))>=0?s.ownerDocument.body:U(s)&&Fi(s)?s:mr(qs(s))}function De(s,t){var e;t===void 0&&(t=[]);var i=mr(s),n=i===((e=s.ownerDocument)==null?void 0:e.body),r=G(i),a=n?[r].concat(r.visualViewport||[],Fi(i)?i:[]):i,c=t.concat(a);return n?c:c.concat(De(qs(a)))}function Ai(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function $a(s,t){var e=Ee(s,!1,t==="fixed");return e.top=e.top+s.clientTop,e.left=e.left+s.clientLeft,e.bottom=e.top+s.clientHeight,e.right=e.left+s.clientWidth,e.width=s.clientWidth,e.height=s.clientHeight,e.x=e.left,e.y=e.top,e}function fn(s,t,e){return t===Ii?Ai(La(s,e)):Yt(t)?$a(t,e):Ai(Ia(xt(s)))}function Ma(s){var t=De(qs(s)),e=["absolute","fixed"].indexOf(dt(s).position)>=0,i=e&&U(s)?ze(s):s;return Yt(i)?t.filter(function(n){return Yt(n)&&hr(n,i)&&at(n)!=="body"}):[]}function Ra(s,t,e,i){var n=t==="clippingParents"?Ma(s):[].concat(t),r=[].concat(n,[e]),a=r[0],c=r.reduce(function(l,u){var h=fn(s,u,i);return l.top=Kt(h.top,l.top),l.right=gs(h.right,l.right),l.bottom=gs(h.bottom,l.bottom),l.left=Kt(h.left,l.left),l},fn(s,a,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function gr(s){var t=s.reference,e=s.element,i=s.placement,n=i?rt(i):null,r=i?ve(i):null,a=t.x+t.width/2-e.width/2,c=t.y+t.height/2-e.height/2,l;switch(n){case H:l={x:a,y:t.y-e.height};break;case F:l={x:a,y:t.y+t.height};break;case K:l={x:t.x+t.width,y:c};break;case j:l={x:t.x-e.width,y:c};break;default:l={x:t.x,y:t.y}}var u=n?Vi(n):null;if(u!=null){var h=u==="y"?"height":"width";switch(r){case Gt:l[u]=l[u]-(t[h]/2-e[h]/2);break;case ge:l[u]=l[u]+(t[h]/2-e[h]/2);break}}return l}function be(s,t){t===void 0&&(t={});var e=t,i=e.placement,n=i===void 0?s.placement:i,r=e.strategy,a=r===void 0?s.strategy:r,c=e.boundary,l=c===void 0?Qn:c,u=e.rootBoundary,h=u===void 0?Ii:u,_=e.elementContext,g=_===void 0?te:_,m=e.altBoundary,y=m===void 0?!1:m,b=e.padding,T=b===void 0?0:b,O=dr(typeof T!="number"?T:fr(T,we)),P=g===te?Jn:te,D=s.rects.popper,w=s.elements[y?P:g],C=Ra(Yt(w)?w:w.contextElement||xt(s.elements.popper),l,h,a),S=Ee(s.elements.reference),N=gr({reference:S,element:D,strategy:"absolute",placement:n}),M=Ai(Object.assign({},D,N)),$=g===te?M:S,L={top:C.top-$.top+O.top,bottom:$.bottom-C.bottom+O.bottom,left:C.left-$.left+O.left,right:$.right-C.right+O.right},R=s.modifiersData.offset;if(g===te&&R){var Q=R[n];Object.keys(L).forEach(function(V){var St=[K,F].indexOf(V)>=0?1:-1,Ot=[H,F].indexOf(V)>=0?"y":"x";L[V]+=Q[Ot]*St})}return L}function ka(s,t){t===void 0&&(t={});var e=t,i=e.placement,n=e.boundary,r=e.rootBoundary,a=e.padding,c=e.flipVariations,l=e.allowedAutoPlacements,u=l===void 0?$i:l,h=ve(i),_=h?c?Ti:Ti.filter(function(y){return ve(y)===h}):we,g=_.filter(function(y){return u.indexOf(y)>=0});g.length===0&&(g=_);var m=g.reduce(function(y,b){return y[b]=be(s,{placement:b,boundary:n,rootBoundary:r,padding:a})[rt(b)],y},{});return Object.keys(m).sort(function(y,b){return m[y]-m[b]})}function Va(s){if(rt(s)===zs)return[];var t=fs(s);return[dn(s),t,dn(t)]}function Ha(s){var t=s.state,e=s.options,i=s.name;if(!t.modifiersData[i]._skip){for(var n=e.mainAxis,r=n===void 0?!0:n,a=e.altAxis,c=a===void 0?!0:a,l=e.fallbackPlacements,u=e.padding,h=e.boundary,_=e.rootBoundary,g=e.altBoundary,m=e.flipVariations,y=m===void 0?!0:m,b=e.allowedAutoPlacements,T=t.options.placement,O=rt(T),P=O===T,D=l||(P||!y?[fs(T)]:Va(T)),w=[T].concat(D).reduce(function(Xt,pt){return Xt.concat(rt(pt)===zs?ka(t,{placement:pt,boundary:h,rootBoundary:_,padding:u,flipVariations:y,allowedAutoPlacements:b}):pt)},[]),C=t.rects.reference,S=t.rects.popper,N=new Map,M=!0,$=w[0],L=0;L<w.length;L++){var R=w[L],Q=rt(R),V=ve(R)===Gt,St=[H,F].indexOf(Q)>=0,Ot=St?"width":"height",B=be(t,{placement:R,boundary:h,rootBoundary:_,altBoundary:g,padding:u}),J=St?V?K:j:V?F:H;C[Ot]>S[Ot]&&(J=fs(J));var Ze=fs(J),Nt=[];if(r&&Nt.push(B[Q]<=0),c&&Nt.push(B[J]<=0,B[Ze]<=0),Nt.every(function(Xt){return Xt})){$=R,M=!1;break}N.set(R,Nt)}if(M)for(var ts=y?3:1,si=function(pt){var Se=w.find(function(ss){var Pt=N.get(ss);if(Pt)return Pt.slice(0,pt).every(function(ii){return ii})});if(Se)return $=Se,"break"},Ce=ts;Ce>0;Ce--){var es=si(Ce);if(es==="break")break}t.placement!==$&&(t.modifiersData[i]._skip=!0,t.placement=$,t.reset=!0)}}const _r={name:"flip",enabled:!0,phase:"main",fn:Ha,requiresIfExists:["offset"],data:{_skip:!1}};function pn(s,t,e){return e===void 0&&(e={x:0,y:0}),{top:s.top-t.height-e.y,right:s.right-t.width+e.x,bottom:s.bottom-t.height+e.y,left:s.left-t.width-e.x}}function mn(s){return[H,K,F,j].some(function(t){return s[t]>=0})}function ja(s){var t=s.state,e=s.name,i=t.rects.reference,n=t.rects.popper,r=t.modifiersData.preventOverflow,a=be(t,{elementContext:"reference"}),c=be(t,{altBoundary:!0}),l=pn(a,i),u=pn(c,n,r),h=mn(l),_=mn(u);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:_},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":_})}const Er={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ja};function Wa(s,t,e){var i=rt(s),n=[j,H].indexOf(i)>=0?-1:1,r=typeof e=="function"?e(Object.assign({},t,{placement:s})):e,a=r[0],c=r[1];return a=a||0,c=(c||0)*n,[j,K].indexOf(i)>=0?{x:c,y:a}:{x:a,y:c}}function Ba(s){var t=s.state,e=s.options,i=s.name,n=e.offset,r=n===void 0?[0,0]:n,a=$i.reduce(function(h,_){return h[_]=Wa(_,t.rects,r),h},{}),c=a[t.placement],l=c.x,u=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=a}const vr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ba};function Fa(s){var t=s.state,e=s.name;t.modifiersData[e]=gr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Ki={name:"popperOffsets",enabled:!0,phase:"read",fn:Fa,data:{}};function Ka(s){return s==="x"?"y":"x"}function Ga(s){var t=s.state,e=s.options,i=s.name,n=e.mainAxis,r=n===void 0?!0:n,a=e.altAxis,c=a===void 0?!1:a,l=e.boundary,u=e.rootBoundary,h=e.altBoundary,_=e.padding,g=e.tether,m=g===void 0?!0:g,y=e.tetherOffset,b=y===void 0?0:y,T=be(t,{boundary:l,rootBoundary:u,padding:_,altBoundary:h}),O=rt(t.placement),P=ve(t.placement),D=!P,w=Vi(O),C=Ka(w),S=t.modifiersData.popperOffsets,N=t.rects.reference,M=t.rects.popper,$=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,L=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(S){if(r){var V,St=w==="y"?H:j,Ot=w==="y"?F:K,B=w==="y"?"height":"width",J=S[w],Ze=J+T[St],Nt=J-T[Ot],ts=m?-M[B]/2:0,si=P===Gt?N[B]:M[B],Ce=P===Gt?-M[B]:-N[B],es=t.elements.arrow,Xt=m&&es?ki(es):{width:0,height:0},pt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ur(),Se=pt[St],ss=pt[Ot],Pt=Pe(0,N[B],Xt[B]),ii=D?N[B]/2-ts-Pt-Se-L.mainAxis:si-Pt-Se-L.mainAxis,Jr=D?-N[B]/2+ts+Pt+ss+L.mainAxis:Ce+Pt+ss+L.mainAxis,ni=t.elements.arrow&&ze(t.elements.arrow),Zr=ni?w==="y"?ni.clientTop||0:ni.clientLeft||0:0,Qi=(V=R==null?void 0:R[w])!=null?V:0,to=J+ii-Qi-Zr,eo=J+Jr-Qi,Ji=Pe(m?gs(Ze,to):Ze,J,m?Kt(Nt,eo):Nt);S[w]=Ji,Q[w]=Ji-J}if(c){var Zi,so=w==="x"?H:j,io=w==="x"?F:K,Dt=S[C],is=C==="y"?"height":"width",tn=Dt+T[so],en=Dt-T[io],ri=[H,j].indexOf(O)!==-1,sn=(Zi=R==null?void 0:R[C])!=null?Zi:0,nn=ri?tn:Dt-N[is]-M[is]-sn+L.altAxis,rn=ri?Dt+N[is]+M[is]-sn-L.altAxis:en,on=m&&ri?wa(nn,Dt,rn):Pe(m?nn:tn,Dt,m?rn:en);S[C]=on,Q[C]=on-Dt}t.modifiersData[i]=Q}}const br={name:"preventOverflow",enabled:!0,phase:"main",fn:Ga,requiresIfExists:["offset"]};function Ya(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function Ua(s){return s===G(s)||!U(s)?Wi(s):Ya(s)}function za(s){var t=s.getBoundingClientRect(),e=_e(t.width)/s.offsetWidth||1,i=_e(t.height)/s.offsetHeight||1;return e!==1||i!==1}function qa(s,t,e){e===void 0&&(e=!1);var i=U(t),n=U(t)&&za(t),r=xt(t),a=Ee(s,n,e),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&((at(t)!=="body"||Fi(r))&&(c=Ua(t)),U(t)?(l=Ee(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Bi(r))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function Xa(s){var t=new Map,e=new Set,i=[];s.forEach(function(r){t.set(r.name,r)});function n(r){e.add(r.name);var a=[].concat(r.requires||[],r.requiresIfExists||[]);a.forEach(function(c){if(!e.has(c)){var l=t.get(c);l&&n(l)}}),i.push(r)}return s.forEach(function(r){e.has(r.name)||n(r)}),i}function Qa(s){var t=Xa(s);return cr.reduce(function(e,i){return e.concat(t.filter(function(n){return n.phase===i}))},[])}function Ja(s){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(s())})})),t}}function Za(s){var t=s.reduce(function(e,i){var n=e[i.name];return e[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var gn={placement:"bottom",modifiers:[],strategy:"absolute"};function _n(){for(var s=arguments.length,t=new Array(s),e=0;e<s;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Xs(s){s===void 0&&(s={});var t=s,e=t.defaultModifiers,i=e===void 0?[]:e,n=t.defaultOptions,r=n===void 0?gn:n;return function(c,l,u){u===void 0&&(u=r);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},gn,r),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},_=[],g=!1,m={state:h,setOptions:function(O){var P=typeof O=="function"?O(h.options):O;b(),h.options=Object.assign({},r,h.options,P),h.scrollParents={reference:Yt(c)?De(c):c.contextElement?De(c.contextElement):[],popper:De(l)};var D=Qa(Za([].concat(i,h.options.modifiers)));return h.orderedModifiers=D.filter(function(w){return w.enabled}),y(),m.update()},forceUpdate:function(){if(!g){var O=h.elements,P=O.reference,D=O.popper;if(_n(P,D)){h.rects={reference:qa(P,ze(D),h.options.strategy==="fixed"),popper:ki(D)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(L){return h.modifiersData[L.name]=Object.assign({},L.data)});for(var w=0;w<h.orderedModifiers.length;w++){if(h.reset===!0){h.reset=!1,w=-1;continue}var C=h.orderedModifiers[w],S=C.fn,N=C.options,M=N===void 0?{}:N,$=C.name;typeof S=="function"&&(h=S({state:h,options:M,name:$,instance:m})||h)}}}},update:Ja(function(){return new Promise(function(T){m.forceUpdate(),T(h)})}),destroy:function(){b(),g=!0}};if(!_n(c,l))return m;m.setOptions(u).then(function(T){!g&&u.onFirstUpdate&&u.onFirstUpdate(T)});function y(){h.orderedModifiers.forEach(function(T){var O=T.name,P=T.options,D=P===void 0?{}:P,w=T.effect;if(typeof w=="function"){var C=w({state:h,name:O,instance:m,options:D}),S=function(){};_.push(C||S)}})}function b(){_.forEach(function(T){return T()}),_=[]}return m}}var tc=Xs(),ec=[ji,Ki,Hi,Ri],sc=Xs({defaultModifiers:ec}),ic=[ji,Ki,Hi,Ri,vr,_r,br,pr,Er],Gi=Xs({defaultModifiers:ic});const yr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:nr,afterRead:er,afterWrite:ar,applyStyles:Ri,arrow:pr,auto:zs,basePlacements:we,beforeMain:sr,beforeRead:Zn,beforeWrite:rr,bottom:F,clippingParents:Qn,computeStyles:Hi,createPopper:Gi,createPopperBase:tc,createPopperLite:sc,detectOverflow:be,end:ge,eventListeners:ji,flip:_r,hide:Er,left:j,main:ir,modifierPhases:cr,offset:vr,placements:$i,popper:te,popperGenerator:Xs,popperOffsets:Ki,preventOverflow:br,read:tr,reference:Jn,right:K,start:Gt,top:H,variationPlacements:Ti,viewport:Ii,write:or},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const mt=new Map,ci={set(s,t,e){mt.has(s)||mt.set(s,new Map);const i=mt.get(s);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,e)},get(s,t){return mt.has(s)&&mt.get(s).get(t)||null},remove(s,t){if(!mt.has(s))return;const e=mt.get(s);e.delete(t),e.size===0&&mt.delete(s)}},nc=1e6,rc=1e3,Ci="transitionend",wr=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),s),oc=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),ac=s=>{do s+=Math.floor(Math.random()*nc);while(document.getElementById(s));return s},cc=s=>{if(!s)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(s);const i=Number.parseFloat(t),n=Number.parseFloat(e);return!i&&!n?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*rc)},Tr=s=>{s.dispatchEvent(new Event(Ci))},ht=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),yt=s=>ht(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(wr(s)):null,Te=s=>{if(!ht(s)||s.getClientRects().length===0)return!1;const t=getComputedStyle(s).getPropertyValue("visibility")==="visible",e=s.closest("details:not([open])");if(!e)return t;if(e!==s){const i=s.closest("summary");if(i&&i.parentNode!==e||i===null)return!1}return t},wt=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",xr=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const t=s.getRootNode();return t instanceof ShadowRoot?t:null}return s instanceof ShadowRoot?s:s.parentNode?xr(s.parentNode):null},_s=()=>{},qe=s=>{s.offsetHeight},Ar=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,li=[],lc=s=>{document.readyState==="loading"?(li.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of li)t()}),li.push(s)):s()},z=()=>document.documentElement.dir==="rtl",X=s=>{lc(()=>{const t=Ar();if(t){const e=s.NAME,i=t.fn[e];t.fn[e]=s.jQueryInterface,t.fn[e].Constructor=s,t.fn[e].noConflict=()=>(t.fn[e]=i,s.jQueryInterface)}})},W=(s,t=[],e=s)=>typeof s=="function"?s(...t):e,Cr=(s,t,e=!0)=>{if(!e){W(s);return}const n=cc(t)+5;let r=!1;const a=({target:c})=>{c===t&&(r=!0,t.removeEventListener(Ci,a),W(s))};t.addEventListener(Ci,a),setTimeout(()=>{r||Tr(t)},n)},Yi=(s,t,e,i)=>{const n=s.length;let r=s.indexOf(t);return r===-1?!e&&i?s[n-1]:s[0]:(r+=e?1:-1,i&&(r=(r+n)%n),s[Math.max(0,Math.min(r,n-1))])},hc=/[^.]*(?=\..*)\.|.*/,uc=/\..*/,dc=/::\d+$/,hi={};let En=1;const Sr={mouseenter:"mouseover",mouseleave:"mouseout"},fc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Or(s,t){return t&&`${t}::${En++}`||s.uidEvent||En++}function Nr(s){const t=Or(s);return s.uidEvent=t,hi[t]=hi[t]||{},hi[t]}function pc(s,t){return function e(i){return Ui(i,{delegateTarget:s}),e.oneOff&&d.off(s,i.type,t),t.apply(s,[i])}}function mc(s,t,e){return function i(n){const r=s.querySelectorAll(t);for(let{target:a}=n;a&&a!==this;a=a.parentNode)for(const c of r)if(c===a)return Ui(n,{delegateTarget:a}),i.oneOff&&d.off(s,n.type,t,e),e.apply(a,[n])}}function Pr(s,t,e=null){return Object.values(s).find(i=>i.callable===t&&i.delegationSelector===e)}function Dr(s,t,e){const i=typeof t=="string",n=i?e:t||e;let r=Lr(s);return fc.has(r)||(r=s),[i,n,r]}function vn(s,t,e,i,n){if(typeof t!="string"||!s)return;let[r,a,c]=Dr(t,e,i);t in Sr&&(a=(y=>function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return y.call(this,b)})(a));const l=Nr(s),u=l[c]||(l[c]={}),h=Pr(u,a,r?e:null);if(h){h.oneOff=h.oneOff&&n;return}const _=Or(a,t.replace(hc,"")),g=r?mc(s,e,a):pc(s,a);g.delegationSelector=r?e:null,g.callable=a,g.oneOff=n,g.uidEvent=_,u[_]=g,s.addEventListener(c,g,r)}function Si(s,t,e,i,n){const r=Pr(t[e],i,n);r&&(s.removeEventListener(e,r,!!n),delete t[e][r.uidEvent])}function gc(s,t,e,i){const n=t[e]||{};for(const[r,a]of Object.entries(n))r.includes(i)&&Si(s,t,e,a.callable,a.delegationSelector)}function Lr(s){return s=s.replace(uc,""),Sr[s]||s}const d={on(s,t,e,i){vn(s,t,e,i,!1)},one(s,t,e,i){vn(s,t,e,i,!0)},off(s,t,e,i){if(typeof t!="string"||!s)return;const[n,r,a]=Dr(t,e,i),c=a!==t,l=Nr(s),u=l[a]||{},h=t.startsWith(".");if(typeof r<"u"){if(!Object.keys(u).length)return;Si(s,l,a,r,n?e:null);return}if(h)for(const _ of Object.keys(l))gc(s,l,_,t.slice(1));for(const[_,g]of Object.entries(u)){const m=_.replace(dc,"");(!c||t.includes(m))&&Si(s,l,a,g.callable,g.delegationSelector)}},trigger(s,t,e){if(typeof t!="string"||!s)return null;const i=Ar(),n=Lr(t),r=t!==n;let a=null,c=!0,l=!0,u=!1;r&&i&&(a=i.Event(t,e),i(s).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented());const h=Ui(new Event(t,{bubbles:c,cancelable:!0}),e);return u&&h.preventDefault(),l&&s.dispatchEvent(h),h.defaultPrevented&&a&&a.preventDefault(),h}};function Ui(s,t={}){for(const[e,i]of Object.entries(t))try{s[e]=i}catch{Object.defineProperty(s,e,{configurable:!0,get(){return i}})}return s}function bn(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function ui(s){return s.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const ut={setDataAttribute(s,t,e){s.setAttribute(`data-bs-${ui(t)}`,e)},removeDataAttribute(s,t){s.removeAttribute(`data-bs-${ui(t)}`)},getDataAttributes(s){if(!s)return{};const t={},e=Object.keys(s.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=bn(s.dataset[i])}return t},getDataAttribute(s,t){return bn(s.getAttribute(`data-bs-${ui(t)}`))}};class Xe{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=ht(e)?ut.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...ht(e)?ut.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,n]of Object.entries(e)){const r=t[i],a=ht(r)?"element":oc(r);if(!new RegExp(n).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${n}".`)}}}const _c="5.3.3";class et extends Xe{constructor(t,e){super(),t=yt(t),t&&(this._element=t,this._config=this._getConfig(e),ci.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ci.remove(this._element,this.constructor.DATA_KEY),d.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){Cr(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return ci.get(yt(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return _c}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const di=s=>{let t=s.getAttribute("data-bs-target");if(!t||t==="#"){let e=s.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>wr(e)).join(","):null},v={find(s,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,s))},findOne(s,t=document.documentElement){return Element.prototype.querySelector.call(t,s)},children(s,t){return[].concat(...s.children).filter(e=>e.matches(t))},parents(s,t){const e=[];let i=s.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(s,t){let e=s.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(s,t){let e=s.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(s){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,s).filter(e=>!wt(e)&&Te(e))},getSelectorFromElement(s){const t=di(s);return t&&v.findOne(t)?t:null},getElementFromSelector(s){const t=di(s);return t?v.findOne(t):null},getMultipleElementsFromSelector(s){const t=di(s);return t?v.find(t):[]}},Qs=(s,t="hide")=>{const e=`click.dismiss${s.EVENT_KEY}`,i=s.NAME;d.on(document,e,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),wt(this))return;const r=v.getElementFromSelector(this)||this.closest(`.${i}`);s.getOrCreateInstance(r)[t]()})},Ec="alert",vc="bs.alert",Ir=`.${vc}`,bc=`close${Ir}`,yc=`closed${Ir}`,wc="fade",Tc="show";class Js extends et{static get NAME(){return Ec}close(){if(d.trigger(this._element,bc).defaultPrevented)return;this._element.classList.remove(Tc);const e=this._element.classList.contains(wc);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),d.trigger(this._element,yc),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Js.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Qs(Js,"close");X(Js);const xc="button",Ac="bs.button",Cc=`.${Ac}`,Sc=".data-api",Oc="active",yn='[data-bs-toggle="button"]',Nc=`click${Cc}${Sc}`;class Zs extends et{static get NAME(){return xc}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Oc))}static jQueryInterface(t){return this.each(function(){const e=Zs.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}d.on(document,Nc,yn,s=>{s.preventDefault();const t=s.target.closest(yn);Zs.getOrCreateInstance(t).toggle()});X(Zs);const Pc="swipe",xe=".bs.swipe",Dc=`touchstart${xe}`,Lc=`touchmove${xe}`,Ic=`touchend${xe}`,$c=`pointerdown${xe}`,Mc=`pointerup${xe}`,Rc="touch",kc="pen",Vc="pointer-event",Hc=40,jc={endCallback:null,leftCallback:null,rightCallback:null},Wc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Es extends Xe{constructor(t,e){super(),this._element=t,!(!t||!Es.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return jc}static get DefaultType(){return Wc}static get NAME(){return Pc}dispose(){d.off(this._element,xe)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),W(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Hc)return;const e=t/this._deltaX;this._deltaX=0,e&&W(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(d.on(this._element,$c,t=>this._start(t)),d.on(this._element,Mc,t=>this._end(t)),this._element.classList.add(Vc)):(d.on(this._element,Dc,t=>this._start(t)),d.on(this._element,Lc,t=>this._move(t)),d.on(this._element,Ic,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===kc||t.pointerType===Rc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Bc="carousel",Fc="bs.carousel",At=`.${Fc}`,$r=".data-api",Kc="ArrowLeft",Gc="ArrowRight",Yc=500,Oe="next",Qt="prev",ee="left",ps="right",Uc=`slide${At}`,fi=`slid${At}`,zc=`keydown${At}`,qc=`mouseenter${At}`,Xc=`mouseleave${At}`,Qc=`dragstart${At}`,Jc=`load${At}${$r}`,Zc=`click${At}${$r}`,Mr="carousel",rs="active",tl="slide",el="carousel-item-end",sl="carousel-item-start",il="carousel-item-next",nl="carousel-item-prev",Rr=".active",kr=".carousel-item",rl=Rr+kr,ol=".carousel-item img",al=".carousel-indicators",cl="[data-bs-slide], [data-bs-slide-to]",ll='[data-bs-ride="carousel"]',hl={[Kc]:ps,[Gc]:ee},ul={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},dl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Qe extends et{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=v.findOne(al,this._element),this._addEventListeners(),this._config.ride===Mr&&this.cycle()}static get Default(){return ul}static get DefaultType(){return dl}static get NAME(){return Bc}next(){this._slide(Oe)}nextWhenVisible(){!document.hidden&&Te(this._element)&&this.next()}prev(){this._slide(Qt)}pause(){this._isSliding&&Tr(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){d.one(this._element,fi,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){d.one(this._element,fi,()=>this.to(t));return}const i=this._getItemIndex(this._getActive());if(i===t)return;const n=t>i?Oe:Qt;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&d.on(this._element,zc,t=>this._keydown(t)),this._config.pause==="hover"&&(d.on(this._element,qc,()=>this.pause()),d.on(this._element,Xc,()=>this._maybeEnableCycle())),this._config.touch&&Es.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of v.find(ol,this._element))d.on(i,Qc,n=>n.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(ee)),rightCallback:()=>this._slide(this._directionToOrder(ps)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Yc+this._config.interval))}};this._swipeHelper=new Es(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=hl[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=v.findOne(Rr,this._indicatorsElement);e.classList.remove(rs),e.removeAttribute("aria-current");const i=v.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(rs),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),n=t===Oe,r=e||Yi(this._getItems(),i,n,this._config.wrap);if(r===i)return;const a=this._getItemIndex(r),c=m=>d.trigger(this._element,m,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:a});if(c(Uc).defaultPrevented||!i||!r)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const h=n?sl:el,_=n?il:nl;r.classList.add(_),qe(r),i.classList.add(h),r.classList.add(h);const g=()=>{r.classList.remove(h,_),r.classList.add(rs),i.classList.remove(rs,_,h),this._isSliding=!1,c(fi)};this._queueCallback(g,i,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(tl)}_getActive(){return v.findOne(rl,this._element)}_getItems(){return v.find(kr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return z()?t===ee?Qt:Oe:t===ee?Oe:Qt}_orderToDirection(t){return z()?t===Qt?ee:ps:t===Qt?ps:ee}static jQueryInterface(t){return this.each(function(){const e=Qe.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}d.on(document,Zc,cl,function(s){const t=v.getElementFromSelector(this);if(!t||!t.classList.contains(Mr))return;s.preventDefault();const e=Qe.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){e.to(i),e._maybeEnableCycle();return}if(ut.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});d.on(window,Jc,()=>{const s=v.find(ll);for(const t of s)Qe.getOrCreateInstance(t)});X(Qe);const fl="collapse",pl="bs.collapse",Je=`.${pl}`,ml=".data-api",gl=`show${Je}`,_l=`shown${Je}`,El=`hide${Je}`,vl=`hidden${Je}`,bl=`click${Je}${ml}`,pi="show",ie="collapse",os="collapsing",yl="collapsed",wl=`:scope .${ie} .${ie}`,Tl="collapse-horizontal",xl="width",Al="height",Cl=".collapse.show, .collapse.collapsing",Oi='[data-bs-toggle="collapse"]',Sl={parent:null,toggle:!0},Ol={parent:"(null|element)",toggle:"boolean"};class Le extends et{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=v.find(Oi);for(const n of i){const r=v.getSelectorFromElement(n),a=v.find(r).filter(c=>c===this._element);r!==null&&a.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Sl}static get DefaultType(){return Ol}static get NAME(){return fl}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Cl).filter(c=>c!==this._element).map(c=>Le.getOrCreateInstance(c,{toggle:!1}))),t.length&&t[0]._isTransitioning||d.trigger(this._element,gl).defaultPrevented)return;for(const c of t)c.hide();const i=this._getDimension();this._element.classList.remove(ie),this._element.classList.add(os),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(os),this._element.classList.add(ie,pi),this._element.style[i]="",d.trigger(this._element,_l)},a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(n,this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||d.trigger(this._element,El).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,qe(this._element),this._element.classList.add(os),this._element.classList.remove(ie,pi);for(const n of this._triggerArray){const r=v.getElementFromSelector(n);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(os),this._element.classList.add(ie),d.trigger(this._element,vl)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(pi)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=yt(t.parent),t}_getDimension(){return this._element.classList.contains(Tl)?xl:Al}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Oi);for(const e of t){const i=v.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=v.find(wl,this._config.parent);return v.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle(yl,!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=Le.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}d.on(document,bl,Oi,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const t of v.getMultipleElementsFromSelector(this))Le.getOrCreateInstance(t,{toggle:!1}).toggle()});X(Le);const wn="dropdown",Nl="bs.dropdown",zt=`.${Nl}`,zi=".data-api",Pl="Escape",Tn="Tab",Dl="ArrowUp",xn="ArrowDown",Ll=2,Il=`hide${zt}`,$l=`hidden${zt}`,Ml=`show${zt}`,Rl=`shown${zt}`,Vr=`click${zt}${zi}`,Hr=`keydown${zt}${zi}`,kl=`keyup${zt}${zi}`,se="show",Vl="dropup",Hl="dropend",jl="dropstart",Wl="dropup-center",Bl="dropdown-center",Lt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Fl=`${Lt}.${se}`,ms=".dropdown-menu",Kl=".navbar",Gl=".navbar-nav",Yl=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ul=z()?"top-end":"top-start",zl=z()?"top-start":"top-end",ql=z()?"bottom-end":"bottom-start",Xl=z()?"bottom-start":"bottom-end",Ql=z()?"left-start":"right-start",Jl=z()?"right-start":"left-start",Zl="top",th="bottom",eh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},sh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ot extends et{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=v.next(this._element,ms)[0]||v.prev(this._element,ms)[0]||v.findOne(ms,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return eh}static get DefaultType(){return sh}static get NAME(){return wn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(wt(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!d.trigger(this._element,Ml,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Gl))for(const i of[].concat(...document.body.children))d.on(i,"mouseover",_s);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(se),this._element.classList.add(se),d.trigger(this._element,Rl,t)}}hide(){if(wt(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!d.trigger(this._element,Il,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))d.off(i,"mouseover",_s);this._popper&&this._popper.destroy(),this._menu.classList.remove(se),this._element.classList.remove(se),this._element.setAttribute("aria-expanded","false"),ut.removeDataAttribute(this._menu,"popper"),d.trigger(this._element,$l,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!ht(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${wn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof yr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:ht(this._config.reference)?t=yt(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Gi(t,this._menu,e)}_isShown(){return this._menu.classList.contains(se)}_getPlacement(){const t=this._parent;if(t.classList.contains(Hl))return Ql;if(t.classList.contains(jl))return Jl;if(t.classList.contains(Wl))return Zl;if(t.classList.contains(Bl))return th;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Vl)?e?zl:Ul:e?Xl:ql}_detectNavbar(){return this._element.closest(Kl)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ut.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...W(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const i=v.find(Yl,this._menu).filter(n=>Te(n));i.length&&Yi(i,e,t===xn,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=ot.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===Ll||t.type==="keyup"&&t.key!==Tn)return;const e=v.find(Fl);for(const i of e){const n=ot.getInstance(i);if(!n||n._config.autoClose===!1)continue;const r=t.composedPath(),a=r.includes(n._menu);if(r.includes(n._element)||n._config.autoClose==="inside"&&!a||n._config.autoClose==="outside"&&a||n._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Tn||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const c={relatedTarget:n._element};t.type==="click"&&(c.clickEvent=t),n._completeHide(c)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=t.key===Pl,n=[Dl,xn].includes(t.key);if(!n&&!i||e&&!i)return;t.preventDefault();const r=this.matches(Lt)?this:v.prev(this,Lt)[0]||v.next(this,Lt)[0]||v.findOne(Lt,t.delegateTarget.parentNode),a=ot.getOrCreateInstance(r);if(n){t.stopPropagation(),a.show(),a._selectMenuItem(t);return}a._isShown()&&(t.stopPropagation(),a.hide(),r.focus())}}d.on(document,Hr,Lt,ot.dataApiKeydownHandler);d.on(document,Hr,ms,ot.dataApiKeydownHandler);d.on(document,Vr,ot.clearMenus);d.on(document,kl,ot.clearMenus);d.on(document,Vr,Lt,function(s){s.preventDefault(),ot.getOrCreateInstance(this).toggle()});X(ot);const jr="backdrop",ih="fade",An="show",Cn=`mousedown.bs.${jr}`,nh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Wr extends Xe{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return nh}static get DefaultType(){return rh}static get NAME(){return jr}show(t){if(!this._config.isVisible){W(t);return}this._append();const e=this._getElement();this._config.isAnimated&&qe(e),e.classList.add(An),this._emulateAnimation(()=>{W(t)})}hide(t){if(!this._config.isVisible){W(t);return}this._getElement().classList.remove(An),this._emulateAnimation(()=>{this.dispose(),W(t)})}dispose(){this._isAppended&&(d.off(this._element,Cn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(ih),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=yt(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),d.on(t,Cn,()=>{W(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Cr(t,this._getElement(),this._config.isAnimated)}}const oh="focustrap",ah="bs.focustrap",vs=`.${ah}`,ch=`focusin${vs}`,lh=`keydown.tab${vs}`,hh="Tab",uh="forward",Sn="backward",dh={autofocus:!0,trapElement:null},fh={autofocus:"boolean",trapElement:"element"};class Br extends Xe{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return dh}static get DefaultType(){return fh}static get NAME(){return oh}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),d.off(document,vs),d.on(document,ch,t=>this._handleFocusin(t)),d.on(document,lh,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,d.off(document,vs))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=v.focusableChildren(e);i.length===0?e.focus():this._lastTabNavDirection===Sn?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===hh&&(this._lastTabNavDirection=t.shiftKey?Sn:uh)}}const On=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Nn=".sticky-top",as="padding-right",Pn="margin-right";class Ni{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,as,e=>e+t),this._setElementAttributes(On,as,e=>e+t),this._setElementAttributes(Nn,Pn,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,as),this._resetElementAttributes(On,as),this._resetElementAttributes(Nn,Pn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth(),r=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+n)return;this._saveInitialAttribute(a,e);const c=window.getComputedStyle(a).getPropertyValue(e);a.style.setProperty(e,`${i(Number.parseFloat(c))}px`)};this._applyManipulationCallback(t,r)}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&ut.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){const i=n=>{const r=ut.getDataAttribute(n,e);if(r===null){n.style.removeProperty(e);return}ut.removeDataAttribute(n,e),n.style.setProperty(e,r)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,e){if(ht(t)){e(t);return}for(const i of v.find(t,this._element))e(i)}}const ph="modal",mh="bs.modal",q=`.${mh}`,gh=".data-api",_h="Escape",Eh=`hide${q}`,vh=`hidePrevented${q}`,Fr=`hidden${q}`,Kr=`show${q}`,bh=`shown${q}`,yh=`resize${q}`,wh=`click.dismiss${q}`,Th=`mousedown.dismiss${q}`,xh=`keydown.dismiss${q}`,Ah=`click${q}${gh}`,Dn="modal-open",Ch="fade",Ln="show",mi="modal-static",Sh=".modal.show",Oh=".modal-dialog",Nh=".modal-body",Ph='[data-bs-toggle="modal"]',Dh={backdrop:!0,focus:!0,keyboard:!0},Lh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let Ie=class Gr extends et{constructor(t,e){super(t,e),this._dialog=v.findOne(Oh,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ni,this._addEventListeners()}static get Default(){return Dh}static get DefaultType(){return Lh}static get NAME(){return ph}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||d.trigger(this._element,Kr,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Dn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||d.trigger(this._element,Eh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ln),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){d.off(window,q),d.off(this._dialog,q),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Wr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Br({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=v.findOne(Nh,this._dialog);e&&(e.scrollTop=0),qe(this._element),this._element.classList.add(Ln);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,d.trigger(this._element,bh,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){d.on(this._element,xh,t=>{if(t.key===_h){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),d.on(window,yh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),d.on(this._element,Th,t=>{d.one(this._element,wh,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Dn),this._resetAdjustments(),this._scrollBar.reset(),d.trigger(this._element,Fr)})}_isAnimated(){return this._element.classList.contains(Ch)}_triggerBackdropTransition(){if(d.trigger(this._element,vh).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(mi)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(mi),this._queueCallback(()=>{this._element.classList.remove(mi),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const n=z()?"paddingLeft":"paddingRight";this._element.style[n]=`${e}px`}if(!i&&t){const n=z()?"paddingRight":"paddingLeft";this._element.style[n]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=Gr.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](e)}})}};d.on(document,Ah,Ph,function(s){const t=v.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),d.one(t,Kr,n=>{n.defaultPrevented||d.one(t,Fr,()=>{Te(this)&&this.focus()})});const e=v.findOne(Sh);e&&Ie.getInstance(e).hide(),Ie.getOrCreateInstance(t).toggle(this)});Qs(Ie);X(Ie);const Ih="offcanvas",$h="bs.offcanvas",ft=`.${$h}`,Yr=".data-api",Mh=`load${ft}${Yr}`,Rh="Escape",In="show",$n="showing",Mn="hiding",kh="offcanvas-backdrop",Ur=".offcanvas.show",Vh=`show${ft}`,Hh=`shown${ft}`,jh=`hide${ft}`,Rn=`hidePrevented${ft}`,zr=`hidden${ft}`,Wh=`resize${ft}`,Bh=`click${ft}${Yr}`,Fh=`keydown.dismiss${ft}`,Kh='[data-bs-toggle="offcanvas"]',Gh={backdrop:!0,keyboard:!0,scroll:!1},Yh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Tt extends et{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Gh}static get DefaultType(){return Yh}static get NAME(){return Ih}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||d.trigger(this._element,Vh,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ni().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add($n);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(In),this._element.classList.remove($n),d.trigger(this._element,Hh,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||d.trigger(this._element,jh).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Mn),this._backdrop.hide();const e=()=>{this._element.classList.remove(In,Mn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ni().reset(),d.trigger(this._element,zr)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){d.trigger(this._element,Rn);return}this.hide()},e=!!this._config.backdrop;return new Wr({className:kh,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Br({trapElement:this._element})}_addEventListeners(){d.on(this._element,Fh,t=>{if(t.key===Rh){if(this._config.keyboard){this.hide();return}d.trigger(this._element,Rn)}})}static jQueryInterface(t){return this.each(function(){const e=Tt.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}d.on(document,Bh,Kh,function(s){const t=v.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),wt(this))return;d.one(t,zr,()=>{Te(this)&&this.focus()});const e=v.findOne(Ur);e&&e!==t&&Tt.getInstance(e).hide(),Tt.getOrCreateInstance(t).toggle(this)});d.on(window,Mh,()=>{for(const s of v.find(Ur))Tt.getOrCreateInstance(s).show()});d.on(window,Wh,()=>{for(const s of v.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&Tt.getOrCreateInstance(s).hide()});Qs(Tt);X(Tt);const Uh=/^aria-[\w-]*$/i,qr={"*":["class","dir","id","lang","role",Uh],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xh=(s,t)=>{const e=s.nodeName.toLowerCase();return t.includes(e)?zh.has(e)?!!qh.test(s.nodeValue):!0:t.filter(i=>i instanceof RegExp).some(i=>i.test(e))};function Qh(s,t,e){if(!s.length)return s;if(e&&typeof e=="function")return e(s);const n=new window.DOMParser().parseFromString(s,"text/html"),r=[].concat(...n.body.querySelectorAll("*"));for(const a of r){const c=a.nodeName.toLowerCase();if(!Object.keys(t).includes(c)){a.remove();continue}const l=[].concat(...a.attributes),u=[].concat(t["*"]||[],t[c]||[]);for(const h of l)Xh(h,u)||a.removeAttribute(h.nodeName)}return n.body.innerHTML}const Jh="TemplateFactory",Zh={allowList:qr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},tu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},eu={entry:"(string|element|function|null)",selector:"(string|element)"};class su extends Xe{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Zh}static get DefaultType(){return tu}static get NAME(){return Jh}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[n,r]of Object.entries(this._config.content))this._setContent(t,r,n);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},eu)}_setContent(t,e,i){const n=v.findOne(i,t);if(n){if(e=this._resolvePossibleFunction(e),!e){n.remove();return}if(ht(e)){this._putElementInTemplate(yt(e),n);return}if(this._config.html){n.innerHTML=this._maybeSanitize(e);return}n.textContent=e}}_maybeSanitize(t){return this._config.sanitize?Qh(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return W(t,[this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const iu="tooltip",nu=new Set(["sanitize","allowList","sanitizeFn"]),gi="fade",ru="modal",cs="show",ou=".tooltip-inner",kn=`.${ru}`,Vn="hide.bs.modal",Ne="hover",_i="focus",au="click",cu="manual",lu="hide",hu="hidden",uu="show",du="shown",fu="inserted",pu="click",mu="focusin",gu="focusout",_u="mouseenter",Eu="mouseleave",vu={AUTO:"auto",TOP:"top",RIGHT:z()?"left":"right",BOTTOM:"bottom",LEFT:z()?"right":"left"},bu={allowList:qr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},yu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ae extends et{constructor(t,e){if(typeof yr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return bu}static get DefaultType(){return yu}static get NAME(){return iu}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),d.off(this._element.closest(kn),Vn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=d.trigger(this._element,this.constructor.eventName(uu)),i=(xr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),d.trigger(this._element,this.constructor.eventName(fu))),this._popper=this._createPopper(n),n.classList.add(cs),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))d.on(c,"mouseover",_s);const a=()=>{d.trigger(this._element,this.constructor.eventName(du)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||d.trigger(this._element,this.constructor.eventName(lu)).defaultPrevented)return;if(this._getTipElement().classList.remove(cs),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))d.off(n,"mouseover",_s);this._activeTrigger[au]=!1,this._activeTrigger[_i]=!1,this._activeTrigger[Ne]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),d.trigger(this._element,this.constructor.eventName(hu)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(gi,cs),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=ac(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(gi),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new su({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ou]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(gi)}_isShown(){return this.tip&&this.tip.classList.contains(cs)}_createPopper(t){const e=W(this._config.placement,[this,t,this._element]),i=vu[e.toUpperCase()];return Gi(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return W(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...e,...W(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")d.on(this._element,this.constructor.eventName(pu),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(e!==cu){const i=e===Ne?this.constructor.eventName(_u):this.constructor.eventName(mu),n=e===Ne?this.constructor.eventName(Eu):this.constructor.eventName(gu);d.on(this._element,i,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusin"?_i:Ne]=!0,a._enter()}),d.on(this._element,n,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusout"?_i:Ne]=a._element.contains(r.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},d.on(this._element.closest(kn),Vn,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=ut.getDataAttributes(this._element);for(const i of Object.keys(e))nu.has(i)&&delete e[i];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:yt(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Ae.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}X(Ae);const wu="popover",Tu=".popover-header",xu=".popover-body",Au={...Ae.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Cu={...Ae.DefaultType,content:"(null|string|element|function)"};class qi extends Ae{static get Default(){return Au}static get DefaultType(){return Cu}static get NAME(){return wu}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Tu]:this._getTitle(),[xu]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=qi.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}X(qi);const Su="scrollspy",Ou="bs.scrollspy",Xi=`.${Ou}`,Nu=".data-api",Pu=`activate${Xi}`,Hn=`click${Xi}`,Du=`load${Xi}${Nu}`,Lu="dropdown-item",Jt="active",Iu='[data-bs-spy="scroll"]',Ei="[href]",$u=".nav, .list-group",jn=".nav-link",Mu=".nav-item",Ru=".list-group-item",ku=`${jn}, ${Mu} > ${jn}, ${Ru}`,Vu=".dropdown",Hu=".dropdown-toggle",ju={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Wu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ti extends et{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ju}static get DefaultType(){return Wu}static get NAME(){return Su}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=yt(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(d.off(this._config.target,Hn),d.on(this._config.target,Hn,Ei,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:n,behavior:"smooth"});return}i.scrollTop=n}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(e(a))},n=(this._rootElement||document.documentElement).scrollTop,r=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(a));continue}const c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&c){if(i(a),!n)return;continue}!r&&!c&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=v.find(Ei,this._config.target);for(const e of t){if(!e.hash||wt(e))continue;const i=v.findOne(decodeURI(e.hash),this._element);Te(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Jt),this._activateParents(t),d.trigger(this._element,Pu,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Lu)){v.findOne(Hu,t.closest(Vu)).classList.add(Jt);return}for(const e of v.parents(t,$u))for(const i of v.prev(e,ku))i.classList.add(Jt)}_clearActiveClass(t){t.classList.remove(Jt);const e=v.find(`${Ei}.${Jt}`,t);for(const i of e)i.classList.remove(Jt)}static jQueryInterface(t){return this.each(function(){const e=ti.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}d.on(window,Du,()=>{for(const s of v.find(Iu))ti.getOrCreateInstance(s)});X(ti);const Bu="tab",Fu="bs.tab",qt=`.${Fu}`,Ku=`hide${qt}`,Gu=`hidden${qt}`,Yu=`show${qt}`,Uu=`shown${qt}`,zu=`click${qt}`,qu=`keydown${qt}`,Xu=`load${qt}`,Qu="ArrowLeft",Wn="ArrowRight",Ju="ArrowUp",Bn="ArrowDown",vi="Home",Fn="End",It="active",Kn="fade",bi="show",Zu="dropdown",Xr=".dropdown-toggle",td=".dropdown-menu",yi=`:not(${Xr})`,ed='.list-group, .nav, [role="tablist"]',sd=".nav-item, .list-group-item",id=`.nav-link${yi}, .list-group-item${yi}, [role="tab"]${yi}`,Qr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',wi=`${id}, ${Qr}`,nd=`.${It}[data-bs-toggle="tab"], .${It}[data-bs-toggle="pill"], .${It}[data-bs-toggle="list"]`;class ye extends et{constructor(t){super(t),this._parent=this._element.closest(ed),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),d.on(this._element,qu,e=>this._keydown(e)))}static get NAME(){return Bu}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?d.trigger(e,Ku,{relatedTarget:t}):null;d.trigger(t,Yu,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(It),this._activate(v.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(bi);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),d.trigger(t,Uu,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(Kn))}_deactivate(t,e){if(!t)return;t.classList.remove(It),t.blur(),this._deactivate(v.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(bi);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),d.trigger(t,Gu,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(Kn))}_keydown(t){if(![Qu,Wn,Ju,Bn,vi,Fn].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(n=>!wt(n));let i;if([vi,Fn].includes(t.key))i=e[t.key===vi?0:e.length-1];else{const n=[Wn,Bn].includes(t.key);i=Yi(e,t.target,n,!0)}i&&(i.focus({preventScroll:!0}),ye.getOrCreateInstance(i).show())}_getChildren(){return v.find(wi,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=v.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains(Zu))return;const n=(r,a)=>{const c=v.findOne(r,i);c&&c.classList.toggle(a,e)};n(Xr,It),n(td,bi),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(It)}_getInnerElement(t){return t.matches(wi)?t:v.findOne(wi,t)}_getOuterElement(t){return t.closest(sd)||t}static jQueryInterface(t){return this.each(function(){const e=ye.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}d.on(document,zu,Qr,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!wt(this)&&ye.getOrCreateInstance(this).show()});d.on(window,Xu,()=>{for(const s of v.find(nd))ye.getOrCreateInstance(s)});X(ye);const rd="toast",od="bs.toast",Ct=`.${od}`,ad=`mouseover${Ct}`,cd=`mouseout${Ct}`,ld=`focusin${Ct}`,hd=`focusout${Ct}`,ud=`hide${Ct}`,dd=`hidden${Ct}`,fd=`show${Ct}`,pd=`shown${Ct}`,md="fade",Gn="hide",ls="show",hs="showing",gd={animation:"boolean",autohide:"boolean",delay:"number"},_d={animation:!0,autohide:!0,delay:5e3};class ei extends et{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _d}static get DefaultType(){return gd}static get NAME(){return rd}show(){if(d.trigger(this._element,fd).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(md);const e=()=>{this._element.classList.remove(hs),d.trigger(this._element,pd),this._maybeScheduleHide()};this._element.classList.remove(Gn),qe(this._element),this._element.classList.add(ls,hs),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||d.trigger(this._element,ud).defaultPrevented)return;const e=()=>{this._element.classList.add(Gn),this._element.classList.remove(hs,ls),d.trigger(this._element,dd)};this._element.classList.add(hs),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ls),super.dispose()}isShown(){return this._element.classList.contains(ls)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){d.on(this._element,ad,t=>this._onInteraction(t,!0)),d.on(this._element,cd,t=>this._onInteraction(t,!1)),d.on(this._element,ld,t=>this._onInteraction(t,!0)),d.on(this._element,hd,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=ei.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Qs(ei);X(ei);const us={"game-modal-dialog":"_game-modal-dialog_en0cg_1","game-modal-content":"_game-modal-content_en0cg_8","game-modal-body":"_game-modal-body_en0cg_13","game-modal-footer":"_game-modal-footer_en0cg_19"},Ed=()=>null,vd={personal:{label:"Personal",component:ao},business_experience:{label:"Business Experience",component:co},technical_skills:{label:"Technical Skills",component:lo},education:{label:"Education",component:ho},projects:{label:"Projects",component:Ed}},bd=({ref:s})=>{const t=Z.useRef(null),[e,i]=Z.useState("personal");Z.useImperativeHandle(s,()=>({openModal:r=>{i(r),t.current&&Ie.getOrCreateInstance(t.current).show()}}),[]);const n=()=>{const r=vd[e].component;return A.jsx(r,{})};return A.jsx("div",{className:"modal fade text-center",id:"gameModal",tabIndex:-1,ref:t,children:A.jsx("div",{className:"modal-dialog modal-xl modal-fullscreen-xxl-down modal-dialog-centered modal-dialog-scrollable "+us["game-modal-dialog"],children:A.jsxs("div",{className:"modal-content "+us["game-modal-content"],children:[A.jsx("div",{className:"modal-body "+us["game-modal-body"],children:n()}),A.jsx("div",{className:"modal-footer "+us["game-modal-footer"],children:A.jsx("button",{type:"button",className:"btn btn-lg btn-dark","data-bs-dismiss":"modal",children:"Close"})})]})})})},yd={worker:"business_experience",bartender:"technical_skills",sheriff:"education"},Zt={scale:4,moveSpeed:1,fps:120},wd=Z.memo(()=>{const s=Z.useRef(null),t=Z.useRef(null),e=Z.useRef(null),[i,n]=Z.useState(Zt.moveSpeed),[r,a]=Z.useState(Zt.scale),[c,l]=Z.useState(Zt.fps),u=g=>{var y;const m=parseInt(g.target.value);n(m),(y=s.current)==null||y.game.player.movable.setMoveSpeed(m)},h=g=>{var y;const m=parseInt(g.target.value);a(m),(y=s.current)==null||y.game.config.setScale(m)},_=g=>{var y;const m=parseInt(g.target.value);l(m),(y=s.current)==null||y.game.config.setFPS(m)};return Z.useEffect(()=>{const g=y=>{var b;(b=e.current)==null||b.openModal(yd[y])};return(async()=>{if(!t.current)return;const y=await ga(t.current,g);s.current=new _a(y),s.current.initialize(),s.current.start(),s.current.game.player.movable.setMoveSpeed(Zt.moveSpeed),s.current.game.config.setScale(Zt.scale),s.current.game.config.setFPS(Zt.fps)})().then().catch(console.error),()=>{var y;(y=s.current)==null||y.stop()}},[]),A.jsxs(A.Fragment,{children:[A.jsx(bd,{ref:e}),A.jsx("div",{className:uo["game-container"]+" w-100",ref:t}),A.jsx("nav",{className:"navbar navbar-expand-lg",children:A.jsxs("div",{className:"container-fluid",children:[A.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#gamebar","aria-controls":"gamebar","aria-expanded":"false","aria-label":"Toggle Game Bar",children:A.jsx("span",{className:"navbar-toggler-icon"})}),A.jsx("div",{className:"collapse navbar-collapse",children:A.jsxs("ul",{className:"navbar-nav me-auto mb-2",children:[A.jsx("li",{className:"nav-item",children:A.jsxs("div",{className:"input-group p-2",children:[A.jsx("label",{className:"input-group-text",htmlFor:"scale",children:"Scale"}),A.jsx("input",{type:"number",className:"form-control",min:"1",max:"6",value:r,onChange:h})]})}),A.jsx("li",{className:"nav-item",children:A.jsxs("div",{className:"input-group p-2",children:[A.jsx("label",{className:"input-group-text",htmlFor:"speed",children:"Speed"}),A.jsx("input",{type:"number",className:"form-control",min:"1",max:"6",value:i,onChange:u})]})}),A.jsx("li",{className:"nav-item",children:A.jsxs("div",{className:"input-group p-2",children:[A.jsx("label",{className:"input-group-text",htmlFor:"speed",children:"FPS"}),A.jsx("input",{type:"number",disabled:!0,className:"form-control",value:c,onChange:_})]})})]})})]})})]})});wd.displayName="Game";export{wd as default};
